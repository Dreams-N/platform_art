Revision: ba6596b6051c0d586cee10a85298a9ed860a0d96
Patch-set: 2
File: runtime/art_method-inl.h

478:2-491:3
Wed Nov 11 01:29:11 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b6da7ea7_232ec666
Bytes: 16
Why change this?

File: runtime/class_linker.cc

3256:2-3256:39
Wed Nov 11 01:29:11 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7b0e2f2a_ba0ced50
Bytes: 46
Is anything other then kJavaLangClass allowed?

File: runtime/common_runtime_test.cc

58:5-58:11
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 568ea242_d78636f8
Bytes: 1
?

58:5-58:11
Thu Nov 05 01:56:41 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 568ea242_d78636f8
UUID: 568ea242_c27912d9
Bytes: 34
Thanks, sorry for leaving this in.

File: runtime/dex_file.cc

29:0-29:17
Wed Nov 11 01:29:11 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 16c50ace_53abcedc
Bytes: 1
?

File: runtime/interpreter/interpreter_common.h

890:24-890:30
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d69a9277_389051c2
Bytes: 33
Why not just use the constructor?

890:24-890:30
Thu Nov 05 01:56:41 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d69a9277_389051c2
UUID: d69a9277_fb8de3e4
Bytes: 81
That is using the constructor, it's pretty much the same thing as doing hs(self).

911:10-911:38
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96a49abb_56316498
Bytes: 36
Use CHECK instead of log fatal here?

917:10-917:39
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b686fe2b_8f9e59d4
Bytes: 8
And here

929:5-929:12
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96a49abb_d64474fa
Bytes: 66
I thought the correct indentation here was 4, is 8 actually right?

929:5-929:12
Thu Nov 05 01:56:41 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 96a49abb_d64474fa
UUID: b69d1e72_171c3cf8
Bytes: 19
4 is probably right

930:6-930:40
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d683721b_edb4410f
Bytes: 22
AssertPendingException

File: runtime/lambda/box_class_table.cc

35:2-35:8
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d683721b_6d77711e
Bytes: 78
I think we prefer ATTRIBUTE_UNUSED. Also what do you mean by delete the class?

35:2-35:8
Thu Nov 05 01:56:41 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d683721b_6d77711e
UUID: b69d1e72_970f4cb7
Bytes: 317
I left this boilerplate code just in case I need to call anything else manually to say that it was "now safe to delete the class" (i.e. to drop the reference)

I was initially envisioning it to hold weak reference to the classes, but since it's now storing strong references it probably never needs to worry about it.

86:9-86:13
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d683721b_d0bc74e1
Bytes: 13
That is safe.

106:4-106:15
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b69d1e72_1770bce6
Bytes: 105
You don't need to manually free heap objects. Having the destructor be completely empty seems OK with me.

File: runtime/lambda/box_class_table.h

84:36-84:76
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6923665_91eafc99
Bytes: 76
You can just leave this uncommented, it works with NO_THREAD_SAFETY_ANALYSIS

101:22-101:24
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 568ea242_f79fb21c
Bytes: 8
2 spaces

110:19-110:54
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b69d1e72_f72c18d6
Bytes: 19
Strange indentation

110:19-110:54
Thu Nov 05 01:56:41 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b69d1e72_f72c18d6
UUID: b69d1e72_5716c4d7
Bytes: 109
Yeah I had them line up (across multiple fields) in another file that I copied/pasted this from. I'll fix it.

File: runtime/lambda/box_table.cc

117:8-117:29
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36892e3b_536a5cf6
Bytes: 52
This means that class_loader may be a stale pointer.

117:8-117:29
Thu Nov 05 01:56:41 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36892e3b_536a5cf6
UUID: 36892e3b_93e84414
Bytes: 36
Ok, I'll move this to under line 127

File: runtime/lambda/box_table.h

145:19-145:61
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b69d1e72_3775c0d7
Bytes: 37
Is indenting the GUARDED_BY required?

File: runtime/lambda/shorty_field_type.h

316:3-318:2
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b686fe2b_0fc0a9a0
Bytes: 11
Indentation

File: runtime/mirror/class.h

369:27-369:45
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1698aa84_db581f81
Bytes: 34
What is the point of these parens?

File: runtime/modifiers.h

53:66-53:67
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6923665_b1953801
Bytes: 12
Extra spaace

53:0-53:87
Wed Nov 11 01:29:11 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96d1fa8e_57ba96e3
Bytes: 80
Note that I use 0x00800000 in one of my CLs. We will need to be careful merging.

File: runtime/native/java_lang_reflect_Method.cc

82:97-82:109
Thu Nov 05 00:27:01 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 568ea242_772742a4
Bytes: 18
Line too long now.

