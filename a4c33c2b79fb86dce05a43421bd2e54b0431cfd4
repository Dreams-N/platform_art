Revision: a4c33c2b79fb86dce05a43421bd2e54b0431cfd4
Patch-set: 3
File: compiler/dex/global_value_numbering.h

65
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_88c83b5f
Bytes: 20
DeletableArenaObject

File: compiler/dex/local_value_numbering.cc

135:4-137:18
Mon Nov 03 16:46:47 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 15b23212_0aa1c3b2
Bytes: 311
Alternatively to ATTRIBUTE_UNUSED we could use variadic templates to create a version of UNUSED taking multiple inputs at once. That would make this UNUSED(gvn, lvn, array), which I think is tighter and better readable than what's currently here. Of course if you replace all UNUSED in a follow-up, that's mood.

File: compiler/dex/local_value_numbering.h

73
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b5a166bc_66076a87
Bytes: 20
DeletableArenaObject

File: compiler/dex/mir_graph.cc

481:65-483:59
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b5a166bc_26960223
Bytes: 76
Is this an obsolete comment? I can't find any compileLoop() function in ART.

File: compiler/dex/pass.h

91:4-91:17
Mon Nov 03 16:46:47 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 35b576f8_71171a39
Bytes: 12
UNREACHABLE?

File: compiler/dex/pass_me.h

35:42-35:82
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_48059333
Bytes: 22
This line lost @brief.

File: compiler/dex/quick/dex_file_method_inliner.cc

104:0-104:7
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_c83e43e2
Bytes: 76
This is really unnecessary. The anonymous namespace serves the same purpose.

File: compiler/dex/quick/mir_to_lir.h

504:10-504:21
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_e8d8e734
Bytes: 11
ArenaObject

File: compiler/utils/arm/assembler_arm.h

268:2-268:7
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_88f15bab
Bytes: 193
This makes the object unassignable. I find this strange for a ValueObject. A think a const qualifier on the enclosing object is better at expressing the intent than const qualifiers on members.

File: compiler/utils/array_ref.h

69:0-75:6
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_88003ba0
Bytes: 64
Please keep this constructor. It's allowing conversion to const.

69:0-75:6
Mon Nov 03 17:13:56 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f5975e5c_88003ba0
UUID: d5c5fa79_021f70cd
Bytes: 88
The issues with these constructors is that the t parameter is unused. I'll look into it.

81:0-87:6
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b5a166bc_09455172
Bytes: 125
This constructor seems unnecessary, the implicit conversion from "T*" to "const T*" should allow the use of the previous one.

94:0-100:6
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5975e5c_686177ad
Bytes: 307
Please keep this constructor. It's allowing conversion to const.

I see I didn't quite use the const qualifier where I should. The CompiledMethod constructor should take ArrayRef<const LinkerPatch> and that requires this ArrayRef constructor. (The CompiledMethod has a few more things that should be const.)

173:0-174:21
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d59c1a86_e7237619
Bytes: 87
Did you also mean to remove both assignment operators? Otherwise, keep these non-const.

File: runtime/entrypoints/entrypoint_utils-inl.h

164
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b5a166bc_66de4a95
Bytes: 74
Since you removed the same TODO above, should this one be removed as well?

File: runtime/transaction.h

179:4-179:9
Mon Nov 03 14:17:42 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b5a166bc_868f0e86
Bytes: 37
Non-assignable ValueObject, very odd.

