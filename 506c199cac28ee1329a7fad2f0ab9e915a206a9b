Revision: 506c199cac28ee1329a7fad2f0ab9e915a206a9b
Patch-set: 5
File: compiler/oat_writer.cc

694:4-694:34
Tue Aug 25 17:55:28 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c4700952_ca2ac202
Bytes: 63
Can you add a comment on why we need no thread suspension here?

694:4-694:34
Wed Aug 26 01:00:11 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c4700952_ca2ac202
UUID: 248c8586_2202857f
Bytes: 4
Done

File: oatdump/oatdump.cc

815:4-815:44
Tue Aug 25 17:55:28 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e4750d3f_a5ed2201
Bytes: 77
Why this way of using a handle scope (what was wrong with the original code)?

815:4-815:44
Wed Aug 26 01:00:11 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e4750d3f_a5ed2201
UUID: 84253145_4e5249b8
Bytes: 156
The original code had a bug where it returned a verifier which had a stale handle. This caused occasional heap corruption with the new weak dex cache roots.

File: runtime/base/mutex.h

67:2-67:18
Tue Aug 25 17:55:28 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c42ba915_2394c948
Bytes: 37
Would kJniWeakGlobalsLock be clearer?

67:2-67:18
Wed Aug 26 01:00:11 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c42ba915_2394c948
UUID: 4485f957_c4b5d339
Bytes: 4
Done

File: runtime/java_vm_ext.cc

372:55-372:70
Tue Aug 25 17:55:28 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 048f817d_1d300e21
Bytes: 79
Why not add kJniGlobalsLock or something like that (why reuse kAllocSpaceLock)?

372:55-372:70
Wed Aug 26 01:00:11 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 048f817d_1d300e21
UUID: c4700952_7b35a2dd
Bytes: 46
That was only for testing something, reverted.

