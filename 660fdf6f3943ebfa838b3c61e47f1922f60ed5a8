Revision: 660fdf6f3943ebfa838b3c61e47f1922f60ed5a8
Patch-set: 1
File: /COMMIT_MSG

24
Wed Aug 03 18:32:55 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 14a446ca_5fc0ab26
Bytes: 13
Bug: 27464570

File: tools/libcore_failures.txt

265:16-266:83
Wed Aug 03 18:32:55 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 14a446ca_3fcde75e
Bytes: 312
These two descriptions seem to cover two different issues (the first one in "libcore.java.lang.ProcessBuilderTest#testRedirectInherit", the second one in "libcore.java.lang.ProcessBuilderTest#testRedirect_nullStreams").  I would split this entry to track them separately (even if they share the same bug number).

265:16-266:83
Wed Aug 03 18:36:34 2016 +0000
Author: Tobias Thierer <1103203@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 14a446ca_3fcde75e
UUID: 14a446ca_fff53f86
Bytes: 440
The point is that I don't think they're different issues.

When testRedirectInherit failed, it was a native crash, unlike the previous issue we had where it failed with an ENOENT stacktrace. We only blamed it on a kernel bug because that previous issue was a kernel bug. But since nullStreams now fails with a native crash, and since it doesn't access /proc/, I no longer think that the testRedirectInherit crash is a separate issue.

WDYT?

265:16-266:83
Wed Aug 03 18:38:07 2016 +0000
Author: Tobias Thierer <1103203@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 14a446ca_fff53f86
UUID: 14a446ca_bfefb7b6
Bytes: 262
In other words, the two lines that are here now are supposed to describe the same failure. That description changed from the previous one because I changed my mind about likely cause based on the new information. Do you have a suggestion on how to phrase better?

265:16-266:83
Wed Aug 03 18:43:07 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 14a446ca_bfefb7b6
UUID: 14a446ca_1fe103c5
Bytes: 171
Thanks for the explanation.  I think I missed the bit about the issue with testRedirectInherit failing for two different reasons.  The current description is fine with me.

265:16-266:83
Wed Aug 03 18:45:55 2016 +0000
Author: Tobias Thierer <1103203@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 14a446ca_1fe103c5
UUID: 14a446ca_df1ddbca
Bytes: 413
Okay cool. FYI testRedirectInherit used to fail 100% of the time on user builds when accessing /proc/ due to a kernel bug in an earlier version of the test, but the test's implementation has changed since then to work around the kernel bug.

When it started failing as a flake, we suspect it was the same issue. I now think it's a separate issue, and that that same separate issue is also affecting nullStreams().

