Revision: 457af653dff745b2f1ad50eb181a77c92fefdf34
Patch-set: 3
File: compiler/optimizing/nodes.cc

467:19-467:25
Wed Sep 03 23:54:01 2014 +0000
Author: Razvan A Lupusoru <1013855@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 10807fc3_b6ec289a
Bytes: 47
Should this also capture operand commutativity?

467:19-467:25
Thu Sep 04 09:45:02 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 10807fc3_b6ec289a
UUID: 90d1cfe4_52413423
Bytes: 170
I think I'd rather have instructions order their inputs consistently (eg ordered by id), than complicate the equality.

But that's a good point for a future optimization.

File: compiler/optimizing/nodes.h

484:6-484:17
Wed Sep 03 23:54:01 2014 +0000
Author: Razvan A Lupusoru <1013855@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 10807fc3_39f80bde
Bytes: 132
Should exceptions be captured as side-effects? How are side-effects of the following instructions captured: move-exception and sget?

484:6-484:17
Thu Sep 04 09:45:02 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 10807fc3_39f80bde
UUID: d0a0a75c_7cf7596b
Bytes: 407
As you can see, the flags I've put in here are pretty basic: all or nothing. In a former project, exceptions were dealt separately, which was a bit annoying, so we might consider putting exceptions in this class.

Note that move-exception do not exist at this level (there is no dex register). About sget, it will be decomposed in a series of instructions (clinit, static-get), where the clinit might throw.

504:23-504:44
Wed Sep 03 23:54:01 2014 +0000
Author: Razvan A Lupusoru <1013855@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f04e8b81_9111ffbc
Bytes: 237
Seems that a future enhancement here should be being more explicit with the semantics and differentiate between all "somethings".

From the uses below seems that this is being used for heap stores and depends on something is a heap load.

504:23-504:44
Thu Sep 04 09:45:02 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f04e8b81_9111ffbc
UUID: 90d1cfe4_3240301d
Bytes: 112
Yes, this will be refined the further we go. The current class is just to have an abstraction over side effects.

