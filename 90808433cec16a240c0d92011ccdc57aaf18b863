Revision: 90808433cec16a240c0d92011ccdc57aaf18b863
Patch-set: 7
File: compiler/optimizing/builder.cc

1047:2-1047:54
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 430966dc_20686e64
Bytes: 87
Shouldn't we pass the code generator to the builder instead of storing it in the graph?

1047:2-1047:24
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_658c46cc
Bytes: 27
Nit: CodeGenerator* codegen

1047:2-1047:54
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 430966dc_20686e64
UUID: e3d33a94_aa7e0f66
Bytes: 180
Fixed the Nit.

The problem with putting the CodeGenerator* into the builder is that the inliner needs it as well.  If it isn't in the Graph, I am not sure where it can get it from

1049:4-1068:29
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 83fd1eeb_c230a61f
Bytes: 64
Please move this code to its own method (BuildSwitchJumpTable?).

1049:4-1068:29
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 83fd1eeb_c230a61f
UUID: c3cab6dd_352f1a88
Bytes: 4
Done

File: compiler/optimizing/code_generator_arm.cc

909:38-909:59
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 430966dc_20ad0e15
Bytes: 66
Use ATTRIBUTE_UNUSED here instead of UNUSED on the following line.

909:38-909:59
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 430966dc_20ad0e15
UUID: 23dab2a9_cc8d5f84
Bytes: 4
Done

914:46-914:67
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 83fd1eeb_827cdeb2
Bytes: 6
Ditto.

914:46-914:67
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 83fd1eeb_827cdeb2
UUID: 23dab2a9_2ca35bf5
Bytes: 4
Done

File: compiler/optimizing/code_generator_arm64.cc

1634:40-1634:61
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c3f39619_24035610
Bytes: 66
Use ATTRIBUTE_UNUSED here instead of UNUSED on the following line.

1634:40-1634:61
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c3f39619_24035610
UUID: c3cab6dd_95c40e43
Bytes: 4
Done

1639:48-1639:69
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c3f39619_c41a7270
Bytes: 6
Ditto.

1639:48-1639:69
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c3f39619_c41a7270
UUID: c3cab6dd_f5c90259
Bytes: 4
Done

File: compiler/optimizing/code_generator_x86.cc

811:38-811:59
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c3f39619_84106a54
Bytes: 66
Use ATTRIBUTE_UNUSED here instead of UNUSED on the following line.

811:38-811:59
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c3f39619_84106a54
UUID: e3d33a94_ea78077c
Bytes: 4
Done

816:46-816:67
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c3f39619_640d5e36
Bytes: 6
Ditto.

816:46-816:67
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c3f39619_640d5e36
UUID: 23dab2a9_0ca017e5
Bytes: 4
Done

File: compiler/optimizing/code_generator_x86_64.cc

766:4-767:53
Thu Apr 09 11:37:29 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_05a0f2e4
Bytes: 28
document why you need temps.

788:31-788:44
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 63a66a29_6b2f0135
Bytes: 20
Nit: num_entries - 1

788:31-788:44
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 63a66a29_6b2f0135
UUID: 23dab2a9_6c9d53b1
Bytes: 4
Done

4067:0-4067:1
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_e5ecb68d
Bytes: 17
Nit: extra space.

4067:0-4067:1
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_e5ecb68d
UUID: 23dab2a9_4c9a0fbb
Bytes: 4
Done

4068:0-4068:4
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 63a66a29_6b20a11d
Bytes: 33
Please use a 2-space indentation.

4068:0-4068:4
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 63a66a29_6b20a11d
UUID: c3cab6dd_d5ce865e
Bytes: 4
Done

4071:0-4071:1
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_c5f1ba67
Bytes: 17
Nit: extra space.

4071:0-4071:1
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_c5f1ba67
UUID: 23dab2a9_ac73cb18
Bytes: 4
Done

4078
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_050912dd
Bytes: 52
Use ATTRIBUTE_UNUSED instead of UNUSED on line 4079.

4078
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_050912dd
UUID: e3d33a94_2a933f2b
Bytes: 4
Done

4089:11-4089:25
Thu Apr 09 11:37:29 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_659d66b1
Bytes: 31
can this actually be unaligned?

4089:11-4089:25
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_659d66b1
UUID: 23dab2a9_cc827f4c
Bytes: 4
Done

4096:47-4096:48
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_45130a0f
Bytes: 55
Please remove the space before the opening parenthesis.

4095:0-4096:70
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_65160601
Bytes: 45
Please fit this instruction on a single line.

4095:0-4096:70
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_65160601
UUID: e3d33a94_0a90fb1a
Bytes: 4
Done

4103:0-4104:64
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 03d12e8c_08a007e5
Bytes: 74
Likewise (fit on a single line, remove space between opening parenthesis).

4103:0-4104:64
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 03d12e8c_08a007e5
UUID: c3cab6dd_55bbb6b1
Bytes: 4
Done

File: compiler/optimizing/nodes.h

305:2-305:33
Wed Apr 08 16:11:53 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 63f82afb_8f6245bc
Bytes: 48
Should this be const and set in the constructor?

305:2-305:33
Wed Apr 08 17:28:24 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 63f82afb_8f6245bc
UUID: e305fac3_57e44c4f
Bytes: 84
The current code creates the HGraph before the CodeGenerator.  Should I change that?

305:2-305:33
Thu Apr 09 11:37:29 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e305fac3_57e44c4f
UUID: 63a66a29_ce2f23b6
Bytes: 413
You only need this in the builder which is constructed after the codegen.

I'm not so fond of this dependency as the builder should not be concerned with codegen details...

I can see this being only temporary until we support switch generation in all backends. So please move this to the builder only, set it in the constructor and document that it should be removed once we completed the other backends as well.

1600:2-1600:10
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 03d12e8c_2bcea5ae
Bytes: 7
Remove.

1600:2-1600:10
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 03d12e8c_2bcea5ae
UUID: e3d33a94_6a8d37ff
Bytes: 4
Done

1619:2-1619:59
Thu Apr 09 11:37:29 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_c58d3a84
Bytes: 29
I don't think this is needed.

1619:2-1619:59
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_c58d3a84
UUID: c3cab6dd_95ed2ebb
Bytes: 4
Done

File: compiler/optimizing/register_allocator.cc

1327:20-1327:30
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 03d12e8c_abe29519
Bytes: 22
with an if or a switch

1327:20-1327:30
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 03d12e8c_abe29519
UUID: e3d33a94_aa63afc6
Bytes: 4
Done

File: compiler/utils/x86_64/assembler_x86_64.cc

2730:1-2730:7
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_e50b16a7
Bytes: 29
Please use the explicit type.

2730:1-2730:7
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_e50b16a7
UUID: e3d33a94_8a686ba2
Bytes: 4
Done

2732:28-2732:52
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_0513d2e1
Bytes: 39
Add parentheses to improve readability.

2732:28-2732:52
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a3c5c2ce_0513d2e1
UUID: c3cab6dd_75d7d2eb
Bytes: 4
Done

2738:25-2738:49
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 03d12e8c_0bf921c3
Bytes: 9
Likewise.

2738:25-2738:49
Thu Apr 09 16:10:11 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 03d12e8c_0bf921c3
UUID: c3cab6dd_55d456e5
Bytes: 4
Done

File: compiler/utils/x86_64/assembler_x86_64.h

304:4-304:15
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a3c5c2ce_6593a6d8
Bytes: 48
Please use GrowableArray instead of std::vector.

741:0-743:3
Thu Apr 09 10:47:58 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 03d12e8c_ab07354e
Bytes: 28
Please fit on a single line.

