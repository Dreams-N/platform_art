Revision: 077a209762b7591bef55248c8147074ac72e5950
Patch-set: 1
File: runtime/arch/x86_64/quick_entrypoints_x86_64.S

896:17-896:48
Thu Mar 19 23:13:51 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 068cdc85_b6cb30f0
Bytes: 93
Maybe we need a fence for the status? Hans should know. Though may not be required on X86/64.

896:17-896:48
Fri Mar 20 00:00:10 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 068cdc85_b6cb30f0
UUID: 46825452_9ba09771
Bytes: 274
You shouldn't need a fence here unless changing the status also implies a change to some other field (e.g. access flags -- but aren't those flags immutable anyway?)

Stores are not reordered with older loads (but loads may be reordered with stores to *different* locations).

899
Fri Mar 20 00:00:10 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 068cdc85_842b567a
Bytes: 188
ecx is unused as source after andl? can test be used here instead?

there is also a TEST r/m32 imm8 encoding (F7) so you should be able to get rid of the movl+andl and turn it into a testl

901:0-901:87
Thu Mar 19 23:13:51 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 66259842_16e6ba58
Bytes: 101
Is it worth maybe having an 8 byte aligned object size inside of Class? Maybe an idea for another CL.

910:9-910:36
Thu Mar 19 23:13:51 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 46825452_b87d6133
Bytes: 94
Add with immediate / inc to memory location instead of moving thread_local_objects in and out?

File: runtime/asm_support.h

146:42-146:52
Thu Mar 19 23:13:51 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 46825452_18210d20
Bytes: 104
If we are going to use defines, maybe we could use the define value to set the corresponding enum value?

File: runtime/mirror/class.h

208:11-208:34
Thu Mar 19 23:13:51 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 46825452_38e3b149
Bytes: 37
Call this from within GetAccessFlags?

533:22-533:38
Thu Mar 19 23:13:51 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 66259842_164a3ab2
Bytes: 36
Call this from within GetObjectSize?

