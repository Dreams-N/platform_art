Revision: 767c752fddc64e280dba507457e4f06002b5f678
Patch-set: 5
File: compiler/dex/quick/codegen_util.cc

804:0-804:57
Fri Mar 20 22:05:57 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 068cdc85_1cf32bba
Bytes: 186
I wonder whether it's better to take this apart, even if it means duplication, and put it behind a constexpr. I know it's highly unlikely that anyone will use this, but to avoid bit-rot?

804:0-804:57
Tue Mar 24 11:17:49 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 068cdc85_1cf32bba
UUID: 263640c8_49b5c1ac
Bytes: 95
Can't define a variable in then-block and keep it alive outside that then-block. Keeping as is.

804:0-804:57
Tue Mar 24 22:24:00 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 263640c8_49b5c1ac
UUID: a3f6a249_c69913c6
Bytes: 447
That's not what I suggested. I suggested duplication of the whole block and removing the #ifs accordingly, filling a constexpr based on the current #ifs, and then dispatching to the right copy according to the constexpr.

I understand it's duplication, but it means the code can't bit-rot. I assume you tested by manually removing the #ifs and checking that it still applies. But what's your guess of how many people will check that in the future?

