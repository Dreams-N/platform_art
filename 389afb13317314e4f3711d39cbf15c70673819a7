Revision: 389afb13317314e4f3711d39cbf15c70673819a7
Patch-set: 6
File: compiler/optimizing/bounds_check_elimination.cc

1122:33-1122:66
Tue Oct 27 23:53:22 2015 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6d53101_ea2198b4
Bytes: 9
Why this?

1122:33-1122:66
Wed Oct 28 21:16:14 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d6d53101_ea2198b4
UUID: f6d955b5_8f923995
Bytes: 133
This is preventing the need to patch env uses with a phi node later (see code below). However, I want to get rid of this restriction.

1126:8-1126:41
Tue Oct 27 23:53:22 2015 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96df3923_3e7f3e9c
Bytes: 54
Nit: i think it's safe to assume this without a DCHECK

1126:8-1126:41
Wed Oct 28 21:16:14 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 96df3923_3e7f3e9c
UUID: b6d35d95_2db4f909
Bytes: 3
Ok.

1231:21-1231:33
Tue Oct 27 23:53:22 2015 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d48537_e217cccc
Bytes: 83
Please make this HBoundsCheck since you're referring to inputs at specific indices.

1231:21-1231:33
Wed Oct 28 21:16:14 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d48537_e217cccc
UUID: 76c565cc_ebf12596
Bytes: 4
Done

1260:57-1260:75
Tue Oct 27 23:53:22 2015 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96df3923_9ec93243
Bytes: 127
Please document the purpose of this argument in the comment above, it's not obvious what it does without digging into the code.

1260:57-1260:75
Wed Oct 28 21:16:14 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 96df3923_9ec93243
UUID: b6d35d95_0db1351a
Bytes: 4
Done

1304:15-1304:45
Tue Oct 27 23:53:22 2015 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6b795e1_aea24b17
Bytes: 5
ditto

1304:15-1304:45
Wed Oct 28 21:16:14 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f6b795e1_aea24b17
UUID: 56c4e1d1_aa460b3b
Bytes: 4
Done

File: compiler/optimizing/induction_var_analysis.cc

25:0-25:80
Tue Oct 27 23:53:22 2015 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 565141a7_3fb0632b
Bytes: 101
Nit: could you share this with BoundsCheckElimination? You could make it a method on LoopInformation.

25:0-25:80
Wed Oct 28 21:16:14 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 565141a7_3fb0632b
UUID: 7621e584_a8cab3d5
Bytes: 24
Excellent idea! Will do.

File: compiler/optimizing/induction_var_analysis.h

73:0-74:22
Tue Oct 27 20:28:49 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6ceb575_fe3b188f
Bytes: 18
Nit: One per line?

73:0-74:22
Tue Oct 27 22:22:43 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f6ceb575_fe3b188f
UUID: 16342965_e5f83034
Bytes: 4
Done

File: compiler/optimizing/induction_var_range.cc

112:0-112:59
Tue Oct 27 20:28:49 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b6d8bd3b_6be82c93
Bytes: 71
Any particular reason why you made this void? Why not leave it as bool?

112:0-112:59
Tue Oct 27 22:22:43 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b6d8bd3b_6be82c93
UUID: d63d314e_e38b4cf3
Bytes: 113
yes, I made the pre-condition for this method that CanGenerateCode returns true. But I like the suggestion below.

118:2-118:81
Tue Oct 27 20:28:49 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d48537_a26c24bd
Bytes: 195
Nit: I would do 

  if (!GenerateCode(...)) {
    LOG(FATAL) << "Some description";
  }

CHECKs IMO are better used as assertions of state not an assertion that something finishes successfully...

118:2-118:81
Tue Oct 27 22:22:43 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d48537_a26c24bd
UUID: 56fce1c4_e7211c72
Bytes: 4
Done

130:2-130:83
Tue Oct 27 20:28:49 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36e4cdf6_d8cf4cb3
Bytes: 24
See check comment above.

130:2-130:83
Tue Oct 27 22:22:43 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36e4cdf6_d8cf4cb3
UUID: 964739ec_beca39a4
Bytes: 4
Done

