Revision: 5936264726c4c25a82a1970709d022a4b1a6bea4
Patch-set: 4
File: runtime/arch/context.h

55:0-55:25
Tue Jun 17 07:05:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e44ec981_0516f21c
Bytes: 41
add comments for the return value meaning

55:0-55:25
Tue Jun 17 08:13:19 2014 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e44ec981_0516f21c
UUID: c44b8572_64fdaad5
Bytes: 4
Done

File: runtime/debugger.cc

2297:0-2297:18
Tue Jun 17 07:05:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 44587541_0816071d
Bytes: 21
log the failures too?

2297:0-2297:18
Tue Jun 17 08:13:19 2014 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 44587541_0816071d
UUID: c44b8572_c4169e62
Bytes: 4
Done

2347:0-2347:30
Tue Jun 17 07:05:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 44587541_28942b2c
Bytes: 85
seems very similar to the case below, fold and put more tag assertions on both cases?

2347:0-2347:30
Tue Jun 17 08:13:19 2014 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 44587541_28942b2c
UUID: 6463b9f2_0935e9fb
Bytes: 4
Done

2376:0-2376:42
Tue Jun 17 07:05:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0452fd22_461cf23c
Bytes: 77
This ignores the expected tag and assigns the one derived from the object :-/

2376:0-2376:42
Tue Jun 17 08:13:19 2014 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0452fd22_461cf23c
UUID: 245d4132_8720a6ba
Bytes: 377
This allows to be accurate when returning the value. We can be asked to return an object with tag JT_OBJECT that is actually a thread so we return the object with JT_THREAD tag. However, we probably need to check we can't do the reverse (be asked to return a JT_THREAD object when it's not a thread) so the given tag is compatible with the actual value. I filed a bug for this.

2495:0-2495:28
Tue Jun 17 07:05:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0452fd22_c607c2e7
Bytes: 23
here the case is folded

2495:0-2495:28
Tue Jun 17 08:13:19 2014 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0452fd22_c607c2e7
UUID: 6463b9f2_c916b162
Bytes: 4
Done

2506:21-2506:90
Tue Jun 17 07:05:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0452fd22_8601cad3
Bytes: 21
sanity check the tag?

2506:21-2506:90
Tue Jun 17 08:13:19 2014 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0452fd22_8601cad3
UUID: 6463b9f2_a9237dc6
Bytes: 157
Correct. There is a TODO above saying we should check the given tag is valid with the variable's type corresponding to the slot. I filed a bug to track this.

