Revision: 7cbeed23c086172c5d3b7bf5a94b57d0bad3b621
Patch-set: 1
File: compiler/common_compiler_test.h

288:6-288:59
Wed Feb 26 00:25:34 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3cfb9535_acd4a131
Bytes: 48
I assume this broke you Ian (from a previous CL)

288:6-288:59
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3cfb9535_acd4a131
UUID: 1cf89137_8e4c3994
Bytes: 106
We don't have an x86-64 compiler, without setting this jni_internal_test will try to compile code and die.

288:6-288:59
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_8e4c3994
UUID: 1cf89137_4e4cf160
Bytes: 110
I changed to compiler_options_->SetCompilerFilter which should do the trick. Just noticed when self-reviewing.

288:6-288:59
Wed Feb 26 07:23:13 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_4e4cf160
UUID: 1cf89137_6e6d6d89
Bytes: 43
ok, thanks. I didn't re-test since that CL.

300:47-300:49
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1cf89137_4e463172
Bytes: 26
seems like a lot of parens

300:47-300:49
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_4e463172
UUID: 3cfb9535_1546f83e
Bytes: 60
removed them, but it doesn't auto-intent right without them.

File: compiler/output_stream_test.cc

26:32-26:49
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3cfb9535_1529589a
Bytes: 1
?

26:32-26:49
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3cfb9535_1529589a
UUID: 3cfb9535_b5e864d4
Bytes: 345
what is your "?" supposed to mean? why was this ever CommonTest? dunno.

changed to be a testing::Test (gtest superclass)

it still needs common_runtime_test.h for ScratchFile. I could make that its own include, but it's test only so far, moving it out might encourage its use outside tests which doesn't seem good without further consideration.

26:32-26:49
Wed Feb 26 07:23:13 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3cfb9535_b5e864d4
UUID: 1cf89137_ce6ec189
Bytes: 167
Yes, my "?" is why have we got "runtime" tests in compiler. I don't this will be revisited for a while so splitting out ScratchFile sounds like the cleanest way to go.

File: compiler/utils/scoped_hashtable_test.cc

31:35-31:52
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5c44c956_6f0a31f3
Bytes: 42
? Does this need to depend on the runtime?

31:35-31:52
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5c44c956_6f0a31f3
UUID: 3cfb9535_35d4540c
Bytes: 13
nope. changed

File: runtime/common_runtime_test.h

81:6-81:18
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1cf89137_4e919184
Bytes: 30
unused? static inline at least

81:6-81:18
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_4e919184
UUID: 1cf89137_2ed4050c
Bytes: 100
I checked, its used by dex_file_test. We could move it there, but for now I just made static inline.

81:6-81:18
Wed Feb 26 07:23:13 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_2ed4050c
UUID: 5c44c956_8f7675e6
Bytes: 35
another thing for the TODO pile :-)

File: runtime/jni_internal_test.cc

34:9-34:72
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1cf89137_6e632dee
Bytes: 131
For the up-call testing we could just assume that we're entering the interpreter. I feel we should separate those tests out anyway.

34:9-34:72
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_6e632dee
UUID: 3cfb9535_b50f4400
Bytes: 41
right, this was the biggest wart I found.

File: runtime/leb128_encoder.h

17:0-17:37
Wed Feb 26 05:51:52 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1cf89137_2ec08569
Bytes: 110
why the rename? This header file is only ever used by the compiler. It also has no common_test.h dependencies.

17:0-17:37
Wed Feb 26 06:16:53 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1cf89137_2ec08569
UUID: 3cfb9535_950448e3
Bytes: 47
use by exeception_test which is a runtime test.

17:0-17:37
Wed Feb 26 07:23:13 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3cfb9535_950448e3
UUID: 3cfb9535_d5fbf05d
Bytes: 65
its probably better we just stuff the encoder into leb128.h then.

