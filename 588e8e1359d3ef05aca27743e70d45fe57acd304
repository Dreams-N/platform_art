Revision: 588e8e1359d3ef05aca27743e70d45fe57acd304
Patch-set: 1
File: disassembler/Android.mk

85:2-85:24
Mon Apr 06 19:25:52 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 83519eaa_43e79555
Bytes: 75
Colin: you said that was the default, but it doesn't seem to be that way...

85:2-85:24
Mon Apr 06 19:28:30 2015 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 83519eaa_43e79555
UUID: c34716eb_bb21e056
Bytes: 52
right, I had to fix this recently somewhere as well.

85:2-85:24
Mon Apr 06 19:37:06 2015 +0000
Author: Colin Cross <1002751@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c34716eb_bb21e056
UUID: c34716eb_9bad0417
Bytes: 137
I see the problem, host_shared_library.mk sets the default to "first", not to "both" like shared_library.mk does.  Ying, do you know why?

85:2-85:24
Mon Apr 06 19:46:01 2015 +0000
Author: Ying Wang <1003981@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c34716eb_9bad0417
UUID: 83519eaa_86de0bdf
Bytes: 173
Yes, that's a decision at the time we added multilib build support to host modules, lots of modules didn't build for 64-bit, such as the vast number of LLVM related modules.

85:2-85:24
Mon Apr 06 19:54:57 2015 +0000
Author: Colin Cross <1002751@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 83519eaa_86de0bdf
UUID: 83519eaa_86c4cbbf
Bytes: 428
That doesn't make sense now, because we set the primary host arch to x86_64 and the secondary to x86.  The default LOCAL_MULTILIB for host is "first", which will target x86_64, and x86 should work fine, so I don't see why we don't just change the default to "both".  It seems bad to sprinkle LOCAL_MULTILIB := both everywhere, especially because it is not necessary for the device and not clear why it is necessary for the host.

85:2-85:24
Mon Apr 06 20:01:08 2015 +0000
Author: Ying Wang <1003981@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 83519eaa_86c4cbbf
UUID: a34222dc_46e7a355
Bytes: 227
I agree. Anything not built for both arch should have been marked properly now, since we actually build with HOST_PREFER_32_BIT when doing SDK builds.
I'll change the default to both and verify the build later when I have time.

85:2-85:24
Mon Apr 06 20:23:17 2015 +0000
Author: David Srbecky <1065473@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a34222dc_46e7a355
UUID: 2312b2d8_127912c1
Bytes: 41
In the meantime, can I submit this patch?

