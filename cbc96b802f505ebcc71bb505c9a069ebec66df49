Revision: cbc96b802f505ebcc71bb505c9a069ebec66df49
Patch-set: 2
File: runtime/art_method-inl.h

92
Fri Oct 02 20:35:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 953c86f3_01232169
Bytes: 92
Not sure I understand, what is the point of this if soa doesn't appear to get used anywhere?

92
Fri Oct 02 20:42:23 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 953c86f3_01232169
UUID: d55b5e6b_366cb10f
Bytes: 179
You need the mutator lock for getting the class. SOA ensures that (except in the cases where the state doesn't make it clear that you maybe still have the lock, like PerformingGC.

94
Fri Oct 02 20:35:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d55b5e6b_b61ba1b1
Bytes: 42
why not

  DoGetAccessFlagsHelper(this)

?

94
Fri Oct 02 20:42:23 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d55b5e6b_b61ba1b1
UUID: 15a33681_cfa0105e
Bytes: 138
Because this one can be correctly analyzed with annotalysis. The helper is only there because the Assert below doesn't work correctly. :-(

97
Fri Oct 02 20:35:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b5526a4f_02704bcc
Bytes: 39
Couldn't this check what state it's in?

97
Fri Oct 02 20:42:23 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b5526a4f_02704bcc
UUID: 953c86f3_01720166
Bytes: 102
It makes the SOA more complicated, and we haven't needed/done that before. That's why we check here...

File: runtime/art_method.h

127
Fri Oct 02 20:35:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9555663b_39a14296
Bytes: 18
nit: kSynchronized

144
Fri Oct 02 20:35:00 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75439281_1e2b8259
Bytes: 10
nit: kMask

