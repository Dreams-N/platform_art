Revision: d912ded9dd91646b5ab8f427fd09cbe911c34bca
Patch-set: 5
File: runtime/os_linux.cc

47
Tue Nov 10 22:00:15 2015 +0000
Author: Nick Kralevich <1003966@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d4867d_d64faa66
Bytes: 120
Is this necessary? O_CREAT | O_TRUNC without O_EXCL will automatically zero out the previous file, so this is redundant.

47
Wed Nov 11 11:14:44 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d4867d_d64faa66
UUID: 169a6aee_3c5511cf
Bytes: 90
This mirrors the same functionality as CreateEmptyFile. I refactor to make things clearer.

49
Tue Nov 10 21:51:41 2015 +0000
Author: Nick Kralevich <1003966@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 56cb02e2_60d1ce20
Bytes: 32
Perhaps O_APPEND and O_NOFOLLOW?

49
Tue Nov 10 22:00:15 2015 +0000
Author: Nick Kralevich <1003966@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 56cb02e2_60d1ce20
UUID: 16c50ace_786869c9
Bytes: 18
Oh, and O_CLOEXEC.

49
Wed Nov 11 11:14:44 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 16c50ace_786869c9
UUID: f6bf9630_a31bda00
Bytes: 263
O_CLOEXEC is not good since tracing may start from zygote.
O_APPEND is also not what we really want.

I will wadd O_NOFOLLOW since we don't need symlinks now.

It's not necessary the goal of this CL to fix creation flags :), I can re-evaluate them in a follow up.

