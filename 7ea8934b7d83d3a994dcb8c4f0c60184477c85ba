Revision: 7ea8934b7d83d3a994dcb8c4f0c60184477c85ba
Patch-set: 7
File: compiler/dex/quick/mips/utility_mips.cc

763:10-763:28
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d162a4ed_a9edbdaf
Bytes: 25
(displacement & 0x7) != 0

763:10-763:28
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3134e0db_4c62dfed
Bytes: 47
!IsAligned<kMips64DoublewordSize>(displacement)

763:10-763:28
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3134e0db_4c62dfed
UUID: 3134e0db_ec22ab90
Bytes: 4
Done

771:17-771:35
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3134e0db_0c83b7c3
Bytes: 5
ditto

771:17-771:35
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b10b7017_38f3498f
Bytes: 6
Ditto.

771:17-771:35
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b10b7017_38f3498f
UUID: d139c4d1_3157f00f
Bytes: 4
Done

793:67-793:68
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3134e0db_2c57930f
Bytes: 17
Nit: extra space.

793:67-793:68
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3134e0db_2c57930f
UUID: 9143cc4f_0f83a5c3
Bytes: 4
Done

958:10-958:28
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9143cc4f_8f9c352c
Bytes: 5
ditto

958:10-958:28
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 712ad87b_0eca8b25
Bytes: 6
Ditto.

958:10-958:28
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 712ad87b_0eca8b25
UUID: 712ad87b_0e83abc3
Bytes: 4
Done

965:17-965:35
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7153b827_06f83a65
Bytes: 5
ditto

965:17-965:35
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 112fdc8d_4bfe4557
Bytes: 6
Ditto.

965:17-965:35
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 112fdc8d_4bfe4557
UUID: b10b7017_f895d103
Bytes: 4
Done

File: compiler/optimizing/intrinsics_mips64.cc

1661:44-1662:36
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b10b7017_18f88565
Bytes: 77
Nit: break the line after the comma instead (likewise for other cases below).

1661:44-1662:36
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b10b7017_18f88565
UUID: b140d043_30f3688f
Bytes: 98
Done. Anyway, I'm not sure if this is what you mean, or to indent second line just 4 places right?

File: compiler/utils/mips64/assembler_mips64.cc

306:63-306:64
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9143cc4f_cfbb5d88
Bytes: 8
Nit: 0x3

306:63-306:64
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9143cc4f_cfbb5d88
UUID: 7153b827_869c2a2c
Bytes: 4
Done

313:75-313:76
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 712ad87b_cebb6388
Bytes: 8
Nit: 0x6

313:75-313:76
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 712ad87b_cebb6388
UUID: 7153b827_66cb6e2d
Bytes: 4
Done

1808:0-1811:15
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d139c4d1_91b57c96
Bytes: 259
You're losing the alignment information here. The simplest thing to do is

    LoadConst32(AT, offset & ~(kMips64WordSize - 1));
    Daddu(AT, AT, base);
    base = AT;
    offset &= (kMips64WordSize - 1);

or you can chose the mask based on the operand size.

1808:0-1811:15
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d139c4d1_91b57c96
UUID: b140d043_50a70c7d
Bytes: 61
Done, but used kMips64DoublewordSize instead kMips64WordSize.

1808:0-1811:15
Fri Jan 29 16:46:24 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b140d043_50a70c7d
UUID: b140d043_504b8c63
Bytes: 68
Good catch. (That's what I meant, I just copy-pasted the wrong one.)

1836:10-1836:22
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3134e0db_cc848fca
Bytes: 17
(offset & 7) != 0

1836:10-1836:22
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5125d4a7_6df9156d
Bytes: 41
!IsAligned<kMips64DoublewordSize>(offset)

1836:10-1836:22
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5125d4a7_6df9156d
UUID: 712ad87b_4e62d3ed
Bytes: 4
Done

1853:0-1856:15
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d139c4d1_717458af
Bytes: 5
ditto

1853:0-1856:15
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d139c4d1_717458af
UUID: 712ad87b_2e57870f
Bytes: 4
Done

1865:10-1865:22
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b10b7017_58fefd56
Bytes: 5
ditto

1865:10-1865:22
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d162a4ed_69f9056d
Bytes: 6
Ditto.

1865:10-1865:22
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d162a4ed_69f9056d
UUID: 7153b827_a6b8468c
Bytes: 4
Done

1911:0-1914:15
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9143cc4f_4fd08dd5
Bytes: 5
ditto

1911:0-1914:15
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9143cc4f_4fd08dd5
UUID: 712ad87b_0e5ccb2d
Bytes: 4
Done

1929:10-1929:22
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d139c4d1_517954a3
Bytes: 5
ditto

1929:10-1929:22
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 112fdc8d_eb0cd159
Bytes: 6
Ditto.

1929:10-1929:22
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 112fdc8d_eb0cd159
UUID: b140d043_10b184b3
Bytes: 4
Done

1948:0-1951:15
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7153b827_c6090248
Bytes: 5
ditto

1948:0-1951:15
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7153b827_c6090248
UUID: 3134e0db_ec2d0b69
Bytes: 4
Done

1960:10-1960:22
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7153b827_a6060636
Bytes: 5
ditto

1960:10-1960:22
Fri Jan 29 14:23:25 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d139c4d1_f18728cc
Bytes: 6
Ditto.

1960:10-1960:22
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d139c4d1_f18728cc
UUID: 3134e0db_cc2a4f4f
Bytes: 4
Done

File: compiler/utils/mips64/assembler_mips64_test.cc

858:2-858:22
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9143cc4f_0fca8525
Bytes: 109
Change "expected" to std::ostringstream and write directly to that instead of creating the "instr" temporary.

858:2-858:22
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9143cc4f_0fca8525
UUID: b10b7017_387ea98d
Bytes: 4
Done

879:2-879:22
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 112fdc8d_2bf3f98e
Bytes: 5
ditto

879:2-879:22
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 112fdc8d_2bf3f98e
UUID: 3134e0db_6c635bc2
Bytes: 4
Done

1088
Fri Jan 29 14:19:35 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9143cc4f_afb8198c
Bytes: 248
All offsets except 4 are 8-byte aligned. Please add more values. For 1-byte and 2-byte load/store add values like 1 and 2, perhaps also 0x7fff and 7ffe, 0x8001 and 0x8002. For 8-byte values, add 0x7ffc and 0x8004. Similar for the other tests below.

1088
Fri Jan 29 16:39:24 2016 +0000
Author: Goran Jakovljevic <1067943@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9143cc4f_afb8198c
UUID: 3134e0db_0c9bb7e8
Bytes: 4
Done

