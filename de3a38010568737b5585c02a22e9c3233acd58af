Revision: de3a38010568737b5585c02a22e9c3233acd58af
Patch-set: 7
File: compiler/optimizing/inliner.cc

188:4-190:69
Wed Nov 25 16:44:08 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7b80ef13_2a41df1d
Bytes: 54
Isn't this already there? Why do you need to added it?

188:4-190:69
Wed Nov 25 17:13:31 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7b80ef13_2a41df1d
UUID: 3bc4b760_980159e5
Bytes: 501
No, you cannot guarantee it's there. I need to add it because the generated code will not check if it's there.

You cannot guarantee it's there, as you may have been called by another dex file, that passes an object defines in the current dex file, but that current dex file did not have a chance to acutally fill its dex cache.

We may fix this by ensuring a resolved class always sets the dex cache entry when it gets resolved, but doing an unconditional set here is making it safe for the compiler.

188:4-190:69
Wed Nov 25 17:19:37 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3bc4b760_980159e5
UUID: 9b7da3ef_0ecd0f3a
Bytes: 57
Thanks. Could you please add the example you just gave :)

File: runtime/entrypoints/quick/quick_trampoline_entrypoints.cc

689:63-689:74
Mon Nov 30 21:39:27 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9b0923b2_0b3b21c7
Bytes: 73
nit: out parameters should be commented such as:
 
  /*out*/&from_code

.

File: runtime/interpreter/interpreter.cc

432
Mon Nov 30 21:39:27 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3bd59733_90273aa4
Bytes: 32
What happens if it's from_code ?

File: runtime/interpreter/interpreter.h

40
Mon Nov 30 21:39:27 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9b0923b2_0b6681fc
Bytes: 70
What's the difference between explicitly and implicitly triggering it?

