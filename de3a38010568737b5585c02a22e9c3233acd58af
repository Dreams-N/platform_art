Revision: de3a38010568737b5585c02a22e9c3233acd58af
Patch-set: 7
File: compiler/optimizing/inliner.cc

188:4-190:69
Wed Nov 25 16:44:08 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7b80ef13_2a41df1d
Bytes: 54
Isn't this already there? Why do you need to added it?

188:4-190:69
Wed Nov 25 17:13:31 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7b80ef13_2a41df1d
UUID: 3bc4b760_980159e5
Bytes: 501
No, you cannot guarantee it's there. I need to add it because the generated code will not check if it's there.

You cannot guarantee it's there, as you may have been called by another dex file, that passes an object defines in the current dex file, but that current dex file did not have a chance to acutally fill its dex cache.

We may fix this by ensuring a resolved class always sets the dex cache entry when it gets resolved, but doing an unconditional set here is making it safe for the compiler.

