Revision: 25b1cc6076635180396ef5d46538fbbeae677927
Patch-set: 10
File: runtime/trace.cc

630:4-630:47
Wed Apr 15 15:31:58 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 709c722a_e49990f7
Bytes: 71
why the change from std::unique_ptr?

don't you have to release it now?

630:4-630:47
Wed Apr 15 15:49:53 2015 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 709c722a_e49990f7
UUID: 709c722a_24dd3895
Bytes: 147
I think it changed for thread safety annotations. But I agree, I don't see the matching delete. 

Maybe it should just not be a pointer in the end.

630:4-630:47
Wed Apr 15 16:25:54 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 709c722a_24dd3895
UUID: 907ac6a8_3a76b984
Bytes: 141
Mutexes aren't small, so I prefer the pointer. I just forgot the delete in the destructor. New CL is on the way anyways for Brian's requests.

630:4-630:47
Thu Apr 16 04:23:31 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 907ac6a8_3a76b984
UUID: d080bec6_4712b155
Bytes: 4
Done

File: runtime/utils.cc

1452:6-1452:96
Tue Apr 14 21:39:01 2015 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b0242aae_05f7e6a2
Bytes: 176
it did LOG(FATAL) before, right?

specificially:

LOG(FATAL) << "Failed to find dalvik-cache directory " << dalvik_cache;

so it seems like it should do that if abort_on_error?

1452:6-1452:96
Wed Apr 15 00:53:35 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b0242aae_05f7e6a2
UUID: 9033a6f4_2f7e482b
Bytes: 308
No. Please look at the original code. All aborts are predicated on create_if_absent. Somebody might have screwed up braces once, but as-is...

This is actually not semantics-preserving, though. I would need to return dalvik_cache instead.

That's why I did not want to refactor before and only tried for Seb.

File: runtime/utils.h

516:0-516:77
Tue Apr 14 21:39:01 2015 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9033a6f4_289406bb
Bytes: 13
sanity tests?

516:0-516:77
Thu Apr 16 04:23:31 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9033a6f4_289406bb
UUID: d080bec6_6717ad44
Bytes: 4
Done

