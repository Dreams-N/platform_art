Revision: c619bdf16b3bd2fd9d873db8ce192a1b884f31d3
Patch-set: 4
File: /COMMIT_MSG

7:21-7:28
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6a149288_679ccc64
Bytes: 107
This is formally called ternary operator. But if you know that "select" is also used you can keep the name.

File: compiler/optimizing/boolean_simplifier.cc

41:12-41:25
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7f4d3685_057b92af
Bytes: 38
Add comments over what "simple" means.

File: compiler/optimizing/code_generator_arm.cc

1234:64-1234:66
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff8686d4_41fab273
Bytes: 95
what does FP stands for? Floating point? if so, the test has nothing 'floating point' specific.

1276:56-1277:80
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6a149288_8739080f
Bytes: 120
you shouldn't have both of these set to true so DCHECK. 
I wouldn't mind having a local enum either, but it's up to you.

File: compiler/optimizing/code_generator_arm64.cc

991:66-991:68
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ca557e3a_9ab4c90f
Bytes: 20
add a space between.

2364:26-2364:58
Mon Oct 12 10:54:28 2015 +0000
Author: Alexandre Rames <1052304@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7f4d3685_454ceab1
Bytes: 273
CSEL does not support immediates on ARM. VIXL provides some minor optimization to handle `0`, `1`, and `-1` using other instructions, but otherwise will synthesize the constant in a register.

I suggest simply using `Location::RequiresRegister()` for now and adding a TODO.

2380
Mon Oct 12 10:54:28 2015 +0000
Author: Alexandre Rames <1052304@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cad81e3d_df981be6
Bytes: 140
Comment: "we don't expect this because of the simplifier but it might happen" ?
Also handle the other unlikely case `loc_true == loc_false`?

2402:45-2402:65
Mon Oct 12 10:54:28 2015 +0000
Author: Alexandre Rames <1052304@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6a149288_44a0aee5
Bytes: 44
`select->GetType()` should work.
Same below.

File: compiler/optimizing/common_arm64.h

207:61-207:69
Mon Oct 12 10:54:28 2015 +0000
Author: Alexandre Rames <1052304@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 8a154685_85e46299
Bytes: 54
See comment in `LocationsBuilderARM64::VisitSelect()`.

File: compiler/optimizing/nodes.h

5089:6-5089:13
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9f290a88_6eeb4fa8
Bytes: 67
Comment why you don't need to care about CanThrow/NeedsEnvironment.

5100:7-5100:48
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2a27faf5_2a457fdd
Bytes: 135
Why would the order matter for code generation? You should be able to generate the optimal code wihout assuming anything at this level.

5112:7-5112:16
Mon Oct 12 14:47:23 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6a149288_0797d843
Bytes: 133
use SetCanBeNull(...) and extend RTP.

This need to be part of the fix point otherwise it will introduce imprecision in the analysis.

File: test/533-checker-select/src/Main.java

1
Mon Oct 12 11:12:03 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff8686d4_612ed6c9
Bytes: 18
Missing copyright.

