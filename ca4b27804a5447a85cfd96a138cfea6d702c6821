Revision: ca4b27804a5447a85cfd96a138cfea6d702c6821
Patch-set: 5
File: compiler/utils/scoped_arena_allocator.h

245:0-245:58
Thu May 08 19:02:42 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ca138c9f_2aee1b6b
Bytes: 49
if this is in a header should it not have inline?

245:0-245:58
Thu May 08 19:20:17 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ca138c9f_2aee1b6b
UUID: 2ae0a8ae_a35ff29d
Bytes: 112
Templates need to be in headers, inline or not. I don't think the inline here matters. I can add it if you want.

245:0-245:58
Thu May 08 20:53:54 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2ae0a8ae_a35ff29d
UUID: aa62d821_fc7df8c1
Bytes: 204
I think the inline is necessary. I can imagine things like -O0 compilation failing without it if not. I can imagine its not currently failing, but I'd rather not surprise the person who discovered it did.

245:0-245:58
Fri May 09 09:02:34 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: aa62d821_fc7df8c1
UUID: 8a827417_0a4dfb81
Bytes: 251
It's absolutely not necessary from the language perspective ("There can be more than one definition of ... non-static function template ... ", ODR, 3.2/5 in the C++11 standard). Even -O0 must respect that. An I don't think it matters performance-wise.

245:0-245:58
Fri May 09 13:54:08 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 8a827417_0a4dfb81
UUID: 8a999485_c1caec4c
Bytes: 187
My concern was that this code is now out of style with the rest of ART. Overriding coding style concern, consistency. I'd add a comment as to why these aren't inline citing the C++11 ODR.

245:0-245:58
Fri May 09 14:30:07 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 8a999485_c1caec4c
UUID: 8a827417_aa522f96
Bytes: 113
If you phrase it as a style issue and it doesn't affect correctness or performance... yes, I'll add the "inline".

