Revision: cedf8a892dd45aec85de002b91496ac19cf4be57
Patch-set: 2
File: runtime/native_bridge_art_interface.cc

19:9-19:18
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b67b2b36_343416f1
Bytes: 5
used?

23:10-23:27
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b64deb11_90d96241
Bytes: 5
used?

24:10-24:19
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 966aa764_cd197d6d
Bytes: 5
used?

File: runtime/native_bridge_art_interface.h

20:0-21:29
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b64deb11_905402e1
Bytes: 63
These shouldn't be there, I see you need <jni.h> and <stdint.h>

File: runtime/runtime.h

34:0-34:39
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b64deb11_30e64efa
Bytes: 57
I'd prefer fewer .h files in .h files, prototype/pointer?

34:0-34:39
Wed Aug 13 05:14:45 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b64deb11_30e64efa
UUID: b67b2b36_74d93e3e
Bytes: 446
I think the problem is easily solved by moving native_bridge_art_callbacks_ to be a static global in the cc file. Pointers don't seem to be the right solution here, as we exactly wanted to avoid all management issues.

The bigger question is: do we need the implementation of the three callback methods to be in a separate .h + .cc. On the one hand it's a cleaner separation, on the other hand we can easily make the static globals in runtime.cc.

34:0-34:39
Wed Aug 13 12:17:30 2014 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b67b2b36_74d93e3e
UUID: 361bbb08_fdec3fde
Bytes: 480
Yes, we can get rid of the extra .h and have it as a global (as it was before), or even more to move everything to runtime.cc (as Andreas suggested).

I opted for different files (.h and .cc) because it seems much cleaner to me. Globals annoys me as they are hard to follow and runtime.cc is already very big IMO (adding them there will only decrease readability).

Saying this, I don't have a very strong preference here :) so if you really prefer an alternative I can change it.

615:31-615:32
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b67b2b36_543d22d6
Bytes: 93
Comment just describes variable name, describe what this variable stores and what that means.

617:5-617:45
Wed Aug 13 04:14:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b67b2b36_743a9ee1
Bytes: 5
ditto

