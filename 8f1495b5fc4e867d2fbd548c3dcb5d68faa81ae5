Revision: 8f1495b5fc4e867d2fbd548c3dcb5d68faa81ae5
Patch-set: 3
File: runtime/mem_map.cc

22:7-22:17
Tue May 20 08:08:16 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2a58a819_7e66bdf5
Bytes: 31
Should that be HAVE_ANDROID_OS?

22:7-22:17
Tue May 20 18:06:51 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2a58a819_7e66bdf5
UUID: 7f3504d1_9b5b57b0
Bytes: 178
Changed to __BIONIC__, which is closer to the actual dependency.

Would be nice to also allow glibc >= 2.16, but the expression becomes really ugly (other definitions necessary).

22:7-22:17
Tue May 20 20:00:59 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7f3504d1_9b5b57b0
UUID: 4a531cfd_858dd06c
Bytes: 12
Even better.

53:26-53:33
Tue May 20 08:08:16 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 4a531cfd_3f28b3e8
Bytes: 15
Test for arm64?

53:26-53:33
Tue May 20 18:06:51 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 4a531cfd_3f28b3e8
UUID: 5f3a00c6_7a5d4821
Bytes: 36
This is for anything 64b but x86-64.

53:26-53:33
Tue May 20 20:00:59 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f3a00c6_7a5d4821
UUID: 0a3da49e_683b5fe7
Bytes: 80
What else do we have? In any case, my personal preference is for positive ifdef.

53:26-53:33
Tue May 20 20:14:55 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0a3da49e_683b5fe7
UUID: 3f3f0cb7_d6e774ba
Bytes: 74
The third 64b architecture, when it's finally announced and supported? :-)

53:26-53:33
Wed May 21 01:01:23 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3f3f0cb7_d6e774ba
UUID: 9f2f188c_346c768a
Bytes: 230
the first rule of gArch64 is that you don't talk about gArch64...

seriously, the issue is that only x86_64 can use MAP_32, the rest will use this. blame the linux kernel for this asymmetry. or x86 for having this convenient wart.

74
Tue May 20 02:06:47 2014 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9f1ab865_ed2d0985
Bytes: 105
The host doesn't have getauxval(3) until glibc 2.16.

(so someone can fix this sometime around 2019 :-) )

74
Tue May 20 18:06:51 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9f1ab865_ed2d0985
UUID: 7f3504d1_5b2def1e
Bytes: 11
Text added.

76:7-76:17
Tue May 20 08:08:16 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2a58a819_9ebfe1ef
Bytes: 69
Seems like everything below should be ifdefed by just one ART_TARGET.

76:7-76:17
Tue May 20 18:06:51 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2a58a819_9ebfe1ef
UUID: 9f1ab865_9228ed11
Bytes: 112
Possible for the current set of architectures, yes. I'd prefer to leave it that way as it won't break as easily.

96
Tue May 20 02:06:47 2014 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f3a00c6_5a772956
Bytes: 9
uintptr_t

96
Tue May 20 18:06:51 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f3a00c6_5a772956
UUID: 7f3504d1_3b222b2f
Bytes: 4
Done

98
Tue May 20 02:06:47 2014 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f3a00c6_7a72ed67
Bytes: 42
maybe move the comment from above to here?

98
Tue May 20 18:06:51 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f3a00c6_7a72ed67
UUID: 7f3504d1_1b27673f
Bytes: 31
Reference to the comment above.

File: runtime/mem_map.h

33:56-33:62
Tue May 20 08:08:16 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0a3da49e_2287b688
Bytes: 15
should be -> is

File: runtime/mem_map_test.cc

87:21-87:22
Tue May 20 08:08:16 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 4a531cfd_1f2befe7
Bytes: 32
Is that really a test for arm64?

94:34-94:44
Tue May 20 08:08:16 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0a3da49e_4284c281
Bytes: 5
ditto

