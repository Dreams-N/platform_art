Revision: c5c4207dfe361e1546ca01435b9e24c01c48157d
Patch-set: 11
File: compiler/optimizing/stack_map_stream.h

114:0-114:103
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7cfb6986_af9e9561
Bytes: 13
line too long

114:0-114:103
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7cfb6986_af9e9561
UUID: 5cb06509_7bf25f1c
Bytes: 4
Done

121:15-121:51
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dc2375ea_e7eba225
Bytes: 17
please add parens

121:15-121:51
Tue Mar 10 16:37:25 2015 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dc2375ea_e7eba225
UUID: bcc88176_56deb456
Bytes: 118
You can also use two DCHECKs:

   DCHECK(0 <= entry.value) << entry.value;
   DCHECK(entry.value < 32) << entry.value;

121:15-121:51
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcc88176_56deb456
UUID: 5cb06509_3becd73d
Bytes: 4
Done

121:15-121:51
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcc88176_56deb456
UUID: 1c9d0d70_919bdcba
Bytes: 4
Done

125:15-125:51
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7cfb6986_8f9bd971
Bytes: 5
ditto

125:15-125:51
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7cfb6986_8f9bd971
UUID: 1c9d0d70_b198e0be
Bytes: 4
Done

161:9-161:35
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7cfb6986_4f91f149
Bytes: 63
Add a comment that this is the size for all dex register  maps.

161:9-161:35
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7cfb6986_4f91f149
UUID: 1c9b4d8e_a1c9def7
Bytes: 4
Done

File: oatdump/oatdump.cc

909:7-909:38
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7cfb6986_6fff8d7e
Bytes: 23
Why not in this change?

909:7-909:38
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7cfb6986_6fff8d7e
UUID: 5cb06509_7bb5bf30
Bytes: 4
Done

916:12-916:14
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dcd8d53c_5fc7ab92
Bytes: 10
std::endl?

916:12-916:14
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dcd8d53c_5fc7ab92
UUID: 5cb06509_9baf6be6
Bytes: 232
I used "\n" instead of std::endl to follow the style of this source file.  This makes sense as std::endl flushes the stream (whereas "\n" doesn't), an operation which is not free with respect to execution times, especially in loops.

File: runtime/stack_map.h

86:2-87:59
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dcd8d53c_ffd79f39
Bytes: 61
Nit: be consistent, end the sentences with either ',' or '.'.

86:2-87:59
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dcd8d53c_ffd79f39
UUID: 5cb06509_5bb2034b
Bytes: 4
Done

91:63-92:13
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5ce4e5f6_bbcd27b2
Bytes: 40
Isn't hat the opposite? (a non-large...)

91:63-92:13
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5ce4e5f6_bbcd27b2
UUID: 5cb06509_3bbf3713
Bytes: 4
Done

93:56-93:72
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcdfa122_1e360d1b
Bytes: 6
ditto?

93:56-93:72
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcdfa122_1e360d1b
UUID: 1c9d0d70_11736c1b
Bytes: 4
Done

98:0-99:32
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dcd8d53c_bfcd17b2
Bytes: 18
indentation is off

98:0-99:32
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dcd8d53c_bfcd17b2
UUID: 1c9d0d70_317870f5
Bytes: 13
Done in PS13.

104:9-104:13
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5ce4e5f6_dbdaf364
Bytes: 5
large

104:9-104:13
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5ce4e5f6_dbdaf364
UUID: 1c9b4d8e_21b6ee6b
Bytes: 4
Done

105:39-105:76
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5ce4e5f6_1be45b2b
Bytes: 7
Remove.

105:39-105:76
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5ce4e5f6_1be45b2b
UUID: 1c9b4d8e_01a2ca28
Bytes: 4
Done

113:0-115:27
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dcd8d53c_5f3a4bee
Bytes: 65
Might make sense to see which one is better: [-16, 16) or [0, 32)

113:0-115:27
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dcd8d53c_5f3a4bee
UUID: 5cb06509_1bbc7b1a
Bytes: 176
Good point.  Will add statistics on constant values to oatdump in another CL.  We might even want to have a table of "VIP" constants instead of a range to save even more bytes.

116:15-116:18
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcdfa122_9e53fd39
Bytes: 44
Why not sticking with Large for consistency?

116:15-116:18
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcdfa122_9e53fd39
UUID: 1c9d0d70_7182f84a
Bytes: 4
Done

178:17-178:27
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5ce4e5f6_fb732fe1
Bytes: 58
This seems superflous now that there is only one encoding.

178:17-178:27
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5ce4e5f6_fb732fe1
UUID: 1c9b4d8e_e10926b1
Bytes: 4
Done

205:73-205:78
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcdfa122_de4d8598
Bytes: 90
I think it'd be a lot less surprising to also divide this by kFrameSlotSize if it's stack.

205:73-205:78
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcdfa122_de4d8598
UUID: 1c9b4d8e_c10e22b7
Bytes: 4
Done

243:9-243:13
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5ce4e5f6_3b459773
Bytes: 5
Large

243:9-243:13
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5ce4e5f6_3b459773
UUID: 1c9d0d70_d170040a
Bytes: 4
Done

281:22-281:26
Tue Mar 10 16:11:19 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bcdfa122_fe4a417d
Bytes: 6
Large?

281:22-281:26
Wed Mar 11 01:34:53 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bcdfa122_fe4a417d
UUID: 5cb06509_9b864b64
Bytes: 4
Done

