Revision: ef139e640d6caf262917cd37ebaf56a4afb93250
Patch-set: 1
File: patchoat/patchoat.cc

95:0-95:31
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e4298d86_776e82aa
Bytes: 22
Why is this templated?

95:0-95:31
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e4298d86_776e82aa
UUID: c42489af_960c52f6
Bytes: 103
The elf file is templated internally. This seems to be the way this is done (see line 764 of this file)

96:0-96:75
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c42489af_933b444f
Bytes: 49
Add a comment describing what this function does?

96:0-96:75
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c42489af_933b444f
UUID: 645f5d28_91d9fb6b
Bytes: 4
Done

97:0-100:3
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 046a21d9_5757ccd7
Bytes: 23
What is this check for?

97:0-100:3
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 046a21d9_5757ccd7
UUID: 046a21d9_fd4d9f93
Bytes: 28
just to make sure it worked.

101:0-105:3
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e4298d86_3778fa66
Bytes: 36
Use OatFile::GetOatHeader() instead?

101:0-105:3
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e4298d86_3778fa66
UUID: 64367de0_d8d0c5c3
Bytes: 224
It does a bunch of set up and init we don't need/want (like verifying all the dex files) also we don't might not know what the location this comes from is so we cannot use OatFile class since it uses that to verify the file.

111:29-111:37
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 04f5c13c_a8da5fdd
Bytes: 30
Should this be const ElfFile*?

111:0-111:82
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 04f5c13c_68ee9781
Bytes: 49
Add a comment describing what this function does?

111:0-111:82
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 04f5c13c_68ee9781
UUID: 64111d42_69b57119
Bytes: 4
Done

111:29-111:37
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 04f5c13c_a8da5fdd
UUID: c4f6494b_3120f8a0
Bytes: 4
Done

190:1-191:2
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 645f5d28_24d8ce61
Bytes: 114
What does it mean to patch an image to match itself? Won't current_delta always be the same as delta in this case?

190:1-191:2
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 645f5d28_24d8ce61
UUID: e4298d86_2211d68f
Bytes: 199
This is for the (theoretical) future use case where apps might have images that need to be relocated. Further we could add in a --set-patch-delta-to=... flag which this would be useful for.

removed.

744:0-750:3
Wed Aug 12 17:35:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e4298d86_d72bf631
Bytes: 39
Why is this code duplicated from above?

744:0-750:3
Wed Aug 12 22:13:42 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e4298d86_d72bf631
UUID: 04f5c13c_19999b4d
Bytes: 99
We need to do the same thing in both places and it cannot really be pulled out into a new function.

