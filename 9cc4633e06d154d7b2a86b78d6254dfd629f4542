Revision: 9cc4633e06d154d7b2a86b78d6254dfd629f4542
Patch-set: 5
File: compiler/optimizing/stack_map_stream.cc

121
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6d92d967_111a8c26
Bytes: 173
Maybe add something like this:

  DCHECK(current_dex_register_, current_inline_info_.num_dex_registers)
      << "Inline info contains less registers than expected.";

here?

121
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6d92d967_111a8c26
UUID: cdd4a530_7669506b
Bytes: 4
Done

310:18-310:19
Mon May 18 11:57:43 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: adcf719d_d52dbc13
Bytes: 15
rename to depth

310:18-310:19
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: adcf719d_d52dbc13
UUID: adcf719d_3537505f
Bytes: 4
Done

316
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6d92d967_d1b1e4c1
Bytes: 63
Maybe check that inline_entry.live_dex_registers_mask is empty?

316
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6d92d967_d1b1e4c1
UUID: cdd4a530_5666549d
Bytes: 4
Done

File: compiler/optimizing/stack_map_test.cc

130:37-130:38
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ad885137_f3e5084f
Bytes: 102
Maybe introduce a `number_of_dex_registers_in_inline_info' (or any better/shorter name) constant here?

130:37-130:38
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ad885137_f3e5084f
UUID: 8dce2da2_141b34f5
Bytes: 4
Done

File: runtime/stack_map.cc

263:2-263:51
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 8dce2da2_74438822
Bytes: 51
Remove and replace with a call to InlineInfo::Dump?

263:2-263:51
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 8dce2da2_74438822
UUID: 8dce2da2_94274432
Bytes: 100
I can't, it needs to know the number of dex registers per inline_info/depth. I improved the comment.

269:0-269:103
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 8dce2da2_d4537cf1
Bytes: 15
Nit: long line.

269:0-269:103
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 8dce2da2_d4537cf1
UUID: 8dce2da2_743dc83c
Bytes: 4
Done

275:0-276:72
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: adcf719d_b56fe0a9
Bytes: 29
Maybe place on a single line?

275:0-276:72
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: adcf719d_b56fe0a9
UUID: adcf719d_950e24b8
Bytes: 4
Done

286:22-286:55
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: adcf719d_9574e47c
Bytes: 126
Maybe replace with

  uint16_t number_of_dex_registers[]

to make it more explicit that `number_of_dex_registers' is an array?

286:22-286:55
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: adcf719d_9574e47c
UUID: 8dce2da2_543acc46
Bytes: 4
Done

File: runtime/stack_map.h

988:17-988:41
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cdd4a530_36d9981c
Bytes: 146
Maybe document that this method retrieves a Dex register map within an InlineInfo object and/or alter this method's name to make it more explicit?

988:17-988:41
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: cdd4a530_36d9981c
UUID: cdd4a530_1660dc7c
Bytes: 4
Done

992:0-992:101
Mon May 18 09:26:22 2015 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: adcf719d_358bd0f0
Bytes: 15
Nit: long line.

992:0-992:101
Mon May 18 12:00:36 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: adcf719d_358bd0f0
UUID: 8dce2da2_b4224022
Bytes: 4
Done

