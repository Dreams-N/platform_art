Revision: ac9550d91192128ae80168143cdd54bf4fb30e29
Patch-set: 5
File: tools/ahat/src/AhatHandler.java

44:6-54:52
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 248c8586_0230ac6e
Bytes: 108
Could we not create the HtmlDoc(ps) earlier and use it to avoid some of these embeded String/Html fragments?

44:6-54:52
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 248c8586_0230ac6e
UUID: 84253145_26405bef
Bytes: 171
I moved this into HtmlDoc as part of the header for all html documents. Is that okay? Or should I not be tying HtmlDoc to the page decorations? I'll think about this more.

File: tools/ahat/src/AhatSnapshot.java

63:4-63:30
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a42a3512_6a2cd898
Bytes: 134
is it worth walking through the heaps if javaLangClass is null?   Should we consider extending the above conditional around this loop?

63:4-63:30
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a42a3512_6a2cd898
UUID: c42ba915_6d3cf046
Bytes: 183
We walk through all the objects on the heap for a number of reasons, not just to label the class of a class object. So we need to walk through the heaps even if javaLangClass is null.

73:30-73:45
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c4700952_794b7231
Bytes: 75
is this prepared to have javaLangClassId =0 if javaLangClass is null above?

73:30-73:45
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c4700952_794b7231
UUID: 048f817d_078f6139
Bytes: 74
I changed the code so it doesn't call setClassId if javaLangClass is null.

130:9-130:13
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 4485f957_1dab3691
Bytes: 92
consider initializing site to mRootSite.  Then you can avoid the ternary in the return below

130:9-130:13
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 4485f957_1dab3691
UUID: a42a3512_00950396
Bytes: 4
Done

170:4-170:58
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 84253145_300df1c6
Bytes: 41
delete the todo and the commented return?

170:4-170:58
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 84253145_300df1c6
UUID: c4700952_afd3c800
Bytes: 204
This was a bug in the code I uploaded. I was compiling against a local, modified version of perflib, instead of the  version checked in. The TODOs are needed for the version of perflib that is checked in.

177:4-177:56
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c42ba915_37108b08
Bytes: 89
is this TODO comment still valid?  Looks like we are doing what the TODO is describing...

177:4-177:56
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c42ba915_37108b08
UUID: c4700952_6fbe40ac
Bytes: 31
As above, the TODOs are needed.

184:3-184:63
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 4485f957_ddb4ceed
Bytes: 23
again delete this TODO?

184:3-184:63
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 4485f957_ddb4ceed
UUID: c42ba915_0dda1c97
Bytes: 22
Again, TODO is needed.

193:16-193:20
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 048f817d_71514b2e
Bytes: 24
initialize to mRootSite?

193:16-193:20
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 048f817d_71514b2e
UUID: 248c8586_8b69179b
Bytes: 4
Done

File: tools/ahat/src/Align.java

22:0-24:2
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a42a3512_aabbd0b8
Bytes: 35
maybe this enum should be in Table?

22:0-24:2
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a42a3512_aabbd0b8
UUID: 4485f957_b09811fd
Bytes: 31
I put it into the Column class.

File: tools/ahat/src/BitmapHandler.java

42:8-42:14
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 248c8586_a2ce80d6
Bytes: 14
see note below

42:8-42:14
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 248c8586_a2ce80d6
UUID: c4700952_4fc58430
Bytes: 19
see response below.

48:8-48:15
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e430ad80_8cb070c8
Bytes: 73
do we have an obligation to set an error response? or can we just return?

48:8-48:15
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e430ad80_8cb070c8
UUID: a42a3512_a0a68f0a
Bytes: 139
I refactored the code so it doesn't look quite so odd. We do have to set an error response, otherwise the page will hang when you visit it.

72:4-79:15
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e430ad80_4cba58a6
Bytes: 8
HtmlDoc?

72:4-79:15
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e430ad80_4cba58a6
UUID: 4485f957_d09d95eb
Bytes: 4
Done

File: tools/ahat/src/HtmlDoc.java

35
Mon Aug 24 20:12:38 2015 +0000
Author: Gary Frost <1047883@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c4700952_f911a213
Bytes: 36
@Override? for some of these methods

35
Tue Aug 25 00:16:52 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c4700952_f911a213
UUID: 048f817d_07f8c188
Bytes: 60
I sprinkled @Override throughout the code where appropriate.

