Revision: 2d6d982894c5e6694d54bdbc7cd19d1176b36552
Patch-set: 3
File: compiler/optimizing/code_generator_x86.cc

4375:11-4375:12
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: fba69f26_7a0ce517
Bytes: 138
This else block is to handle both the non-baker read barrier and the non-read-barrier cases.

Insert "If read barriers are enabled," here?

4866:22-4867:66
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1b17f3fd_43bf70ec
Bytes: 227
This refers to line 4862? If so, now that the code has moved up here, could this comment be simplified to something like "Note that a potential implicit null check is handled in this GenerateArrayLoadWithBakerReadBarrier call"?

4875:13-4875:14
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bbb18759_6b141d2a
Bytes: 44
Insert "If read barriers are enabled," here?

4880:13-4880:14
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9bb8433f_4ab5d73b
Bytes: 5
Same.

6444:15-6444:19
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bbb18759_4b9e79d5
Bytes: 63
I think this should be cmpl as is_gc_marking is a 32-bit field.

6598:4-6598:6
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3b18372c_04c7401a
Bytes: 65
Would it make sense to insert DCHECK(!kUseBakerReadBarrier) here?

File: runtime/read_barrier-inl.h

193:0-193:13
Wed Dec 02 22:21:22 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3b18372c_04462035
Bytes: 55
I think this should be in the .h file rather than here.

