Revision: 1964b23da93578372b7fbcbaf9c700755e0f089a
Patch-set: 12
File: compiler/image_writer.cc

1318:0-1318:0
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 05e5d2f2_aa7dcfc3
Bytes: 20
Superfluous newline?

1318:0-1318:0
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 05e5d2f2_aa7dcfc3
UUID: e5cc3e7f_371f6aec
Bytes: 4
Done

File: dex2oat/dex2oat.cc

1707:7-1707:8
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 65e04ee1_92b5aca6
Bytes: 2
be

1707:7-1707:8
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 65e04ee1_92b5aca6
UUID: 25ead6c4_7661f0b9
Bytes: 30
I'll just delete that comment.

File: runtime/class_linker.cc

891:45-891:52
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 85d9c240_54430a28
Bytes: 7
grammar

891:45-891:52
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 85d9c240_54430a28
UUID: 05107294_78b0e5b4
Bytes: 4
Done

996:40-996:65
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 25ead6c4_cbe4e1d2
Bytes: 4
Why?

996:0-996:2
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 45db4a39_12643af5
Bytes: 7
newline

996:0-996:2
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 45db4a39_12643af5
UUID: 25ead6c4_b128e264
Bytes: 4
Done

996:40-996:65
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 25ead6c4_cbe4e1d2
UUID: 25157684_4b21d6e3
Bytes: 4
Done

1049:22-1049:34
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5cc3e7f_31677ad3
Bytes: 6
image?

1049:22-1049:34
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5cc3e7f_31677ad3
UUID: 45db4a39_3ccf4836
Bytes: 4
Done

1093:4-1094:74
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5cc3e7f_516cfeb2
Bytes: 66
MutableHandle would avoid installing the scope for each iteration.

1093:4-1094:74
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5cc3e7f_516cfeb2
UUID: c5b81ad7_8ecf47a9
Bytes: 4
Done

1165:4-1165:73
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5cc3e7f_716102ba
Bytes: 23
Could you explain this?

1165:4-1165:73
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5cc3e7f_716102ba
UUID: 25ead6c4_516cfeb2
Bytes: 4
Done

1241:3-1241:13
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c5b81ad7_08a32f1f
Bytes: 34
Probably want to make this a VLOG.

1241:3-1241:13
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c5b81ad7_08a32f1f
UUID: e598be91_71e72245
Bytes: 4
Done

1290:77-1291:32
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e5cc3e7f_916686d1
Bytes: 95
Should we consider trying to read-protect the pages in a debug build to enforce this invariant?

1290:77-1291:32
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e5cc3e7f_916686d1
UUID: e598be91_51f41eec
Bytes: 81
Perhaps, but it is not necessarily page aligned, it could be difficult to ensure.

1319:11-1319:13
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 05107294_bd1ecf48
Bytes: 1
?

1319:11-1319:13
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 05107294_bd1ecf48
UUID: 25ead6c4_d181ee6c
Bytes: 4
Done

1352:34-1352:39
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e598be91_4bbd8d7e
Bytes: 19
Make it a constant?

1352:34-1352:39
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e598be91_4bbd8d7e
UUID: 05107294_acfce225
Bytes: 7
Deleted

File: runtime/class_linker.h

130:28-130:30
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 65e04ee1_d296540a
Bytes: 4
true

130:28-130:30
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 65e04ee1_d296540a
UUID: 25ead6c4_f65420d3
Bytes: 4
Done

132:6-137:28
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e598be91_8bc3950d
Bytes: 38
Can be "indented" behind AddImageSpace

132:6-137:28
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e598be91_8bc3950d
UUID: 25157684_fe4161eb
Bytes: 4
Done

File: runtime/gc/space/image_space.cc

717:38-717:39
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 65e04ee1_b2c2a807
Bytes: 4
typo

717:38-717:39
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 65e04ee1_b2c2a807
UUID: 25ead6c4_b112a2dd
Bytes: 4
Done

757:45-757:46
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 25157684_13243643
Bytes: 7
Period.

757:45-757:46
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 25157684_13243643
UUID: 05e5d2f2_30f68efc
Bytes: 4
Done

849:6-849:29
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 85d9c240_f43b3ea2
Bytes: 18
Looks clean to me.

849:6-849:29
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 85d9c240_f43b3ea2
UUID: e5cc3e7f_b7853a33
Bytes: 4
Done

929:4-929:29
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 05107294_3dec9f7b
Bytes: 88
Fill it in. It's not really hard to do a StringPrintf with the location from the header.

929:4-929:29
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 05107294_3dec9f7b
UUID: 05107294_cc12fede
Bytes: 49
I don't think it is valid if it is not relocated.

930:18-930:26
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 05e5d2f2_ea60b714
Bytes: 6
Cannot

930:18-930:26
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 05e5d2f2_ea60b714
UUID: 05e5d2f2_10a3521f
Bytes: 4
Done

1071:6-1071:31
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 65e04ee1_5275e4ac
Bytes: 7
Remove.

1071:6-1071:31
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 65e04ee1_5275e4ac
UUID: e5cc3e7f_178d0655
Bytes: 4
Done

1150:2-1150:68
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 25ead6c4_4bab714b
Bytes: 22
Comment above, please.

1150:2-1150:68
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 25ead6c4_4bab714b
UUID: a50966b1_8bcdd13a
Bytes: 4
Done

File: runtime/gc/space/image_space.h

144:0-150:52
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 05e5d2f2_ca63fb1e
Bytes: 98
Needs an update for the oat_file parameter (i.e., that it will try to load one if it's not given).

144:0-150:52
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 05e5d2f2_ca63fb1e
UUID: c5b81ad7_e269b7cf
Bytes: 4
Done

File: runtime/oat_file_manager.cc

40:0-40:45
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 05107294_1d1a8349
Bytes: 25
Separate it, and comment.

40:0-40:45
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 05107294_1d1a8349
UUID: e598be91_7c4939b2
Bytes: 4
Done

352:4-352:59
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e598be91_eb5d8129
Bytes: 19
Then remove it. :-)

352:4-352:59
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e598be91_eb5d8129
UUID: c5b81ad7_628da7aa
Bytes: 4
Done

371:23-371:25
Tue Dec 15 05:03:34 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 25ead6c4_6bb02db5
Bytes: 1
,

371:23-371:25
Tue Dec 15 23:22:05 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 25ead6c4_6bb02db5
UUID: 65e04ee1_383e799b
Bytes: 4
Done

