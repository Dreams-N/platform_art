Revision: b5fdebcc1fd657ac0658fa565a0a603be5b336df
Patch-set: 1
File: /COMMIT_MSG

9:0-10:44
Wed Jul 15 10:25:29 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 18f0c2db_50bf8ca9
Bytes: 160
How about always allocating 4 bytes in the stack (alongside the lambda) to point to that boxed lambda? It would be initialized to null when creating the lambda.

File: runtime/lambda/box_table.cc

132:2-132:8
Wed Jul 15 01:38:24 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 78b0de09_8abcb326
Bytes: 16
ATTRIBUTE_UNUSED

147:2-147:39
Wed Jul 15 01:38:24 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 187d22ed_5c8b3d76
Bytes: 118
You can use the it = set->Erase(it) to avoid needing to construct the remove_list. See InternTable::Table::SweepWeaks.

