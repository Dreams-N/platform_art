Revision: e4b0d7c4303e8aeec8f20b70af5e8130bd58475a
Patch-set: 4
File: compiler/dex/pass.cc

31:0-31:53
Wed Jan 08 23:46:34 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0dd1393f_fbe54701
Bytes: 63
Trivial empty member functions should be defined in the header.

31:39-31:44
Wed Jan 08 23:46:34 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cdcac190_36663688
Bytes: 44
arguments shouldn't be camel case but c_unit

File: compiler/dex/pass.h

108:0-108:25
Wed Jan 08 23:46:34 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0dd1393f_bbefcfdd
Bytes: 135
It would make reasoning about the thread-safety of passes a lot simpler if this data were immutable. I don't see a reason why it isn't.

File: compiler/dex/pass_driver.cc

72:14-72:15
Thu Jan 09 00:04:10 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2dd43d2d_3c8059de
Bytes: 41
this is another case of s/Pass */Pass* /g

73:0-73:23
Wed Jan 08 23:46:34 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 2dd43d2d_fcc9c198
Bytes: 87
Currently no passes are freed so this is a memory leak. Is the intent to use the arena?

73:0-73:23
Thu Jan 09 00:04:10 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 2dd43d2d_fcc9c198
UUID: cdcac190_36b4f663
Bytes: 171
Ah, static. I'd prefer that the passes were immutable given we're sharing them across threads then. As this is a leak can you use UniquePtr to ensure valgrind cleanliness.

101:45-101:46
Thu Jan 09 00:04:10 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0dd1393f_db2bab12
Bytes: 9
s/ */* /g

102:19-102:20
Thu Jan 09 00:04:10 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cdcac190_16ca1ade
Bytes: 8
s/ */* /

113:20-113:21
Thu Jan 09 00:04:10 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0dd1393f_9b253340
Bytes: 14
use the arena?

File: compiler/dex/pass_driver.h

32:54-32:73
Wed Jan 08 23:46:34 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: cdcac190_d635c25e
Bytes: 65
Argument naming convention: create_default_passes
Here and below.

