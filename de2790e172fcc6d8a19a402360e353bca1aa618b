Revision: de2790e172fcc6d8a19a402360e353bca1aa618b
Patch-set: 4
File: compiler/optimizing/code_generator_x86_64.cc

5224:0-5224:70
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a9612fbd_f7310023
Bytes: 24
I don't understand this.

5224:0-5224:70
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a9612fbd_f7310023
UUID: 2e470569_e9a5f11c
Bytes: 125
I can't update CpuRegister with a new value, as it has no assignment operator.  I will remove the second part of the comment.

5313:32-5313:61
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c9e9032d_20898a19
Bytes: 5
drop?

5313:32-5313:61
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c9e9032d_20898a19
UUID: ce582944_eec05b69
Bytes: 4
Done

5311:4-5317:5
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a9eccf3c_5f3e2bee
Bytes: 111
Please add more comments. Basically, if no constants were not emitted, you don't need to fixup the jump tables?

5311:4-5317:5
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a9eccf3c_5f3e2bee
UUID: 8e52b121_298b09e9
Bytes: 4
Done

5370:0-5370:4
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: a9612fbd_17475488
Bytes: 14
2 more spaces.

5370:0-5370:4
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a9612fbd_17475488
UUID: 6e4d7d85_c84c6f0e
Bytes: 4
Done

5379:0-5390:2
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c902e3ba_d8f40d94
Bytes: 23
Move this to line 5373?

5379:0-5390:2
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c902e3ba_d8f40d94
UUID: 0e5fa128_0d0df5b1
Bytes: 4
Done

File: compiler/optimizing/code_generator_x86_64.h

364:0-364:46
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c902e3ba_58011d0f
Bytes: 129
I think it's confusing that you're calling them jump_table_fixups_ but they're not JumpTableFixup. Maybe fixups_to_jump_tables_ ?

364:0-364:46
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c902e3ba_58011d0f
UUID: 8e52b121_09904d0d
Bytes: 4
Done

File: compiler/utils/x86_64/assembler_x86_64.h

324:0-325:33
Wed Sep 23 11:11:34 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c902e3ba_9813b568
Bytes: 76
Why is that not just in the buffer? After all it's constants you're putting.

324:0-325:33
Thu Sep 24 12:20:46 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: c902e3ba_9813b568
UUID: ee616dea_af66dd34
Bytes: 347
This is needed to get a callback to the Code Generator once all the code has been generated for the method. The offsets to the blocks needed are not known at the time the space for the jump table is allocated in the constant area. This is used by AddConstantAreaFixup to save a JumpTableFixup, which is used to populate the constant area properly.

