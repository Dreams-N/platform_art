Revision: 69e5f7eeb45e9fd3af141929f4963486269b2992
Patch-set: 1
File: build/Android.common_build.mk

314
Mon Aug 10 23:03:14 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c7cf2b9d_3e3e0d42
Bytes: 184
I don't think we should be reducing the amount of possible base addresses unless we have a very good reason. Also this could still cause issues if we ever have a device with >1k pages.

File: runtime/gc/space/image_space.cc

64
Mon Aug 10 23:03:14 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 87c9b39e_c7450eef
Bytes: 104
This can be set by builder and there is no reason that delta's < 0 are bad (other than 1 test flakiness)

64
Mon Aug 10 23:07:44 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 87c9b39e_c7450eef
UUID: 07bea3e2_ab8d4187
Bytes: 43
Are you suggesting to change the test then?

64
Mon Aug 10 23:13:11 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 07bea3e2_ab8d4187
UUID: 07bea3e2_a6bfb8f7
Bytes: 411
I think that would be the ideal solution. However doing so does look like it would be pretty annoying (lots of added cases).

Mostly though if we are going to work-around it here we should do as small a change from current behavior as necessary (i.e. just don't let this return 0). Furthermore making this just not return 0 is a pretty trivial change so it's not like this is making him re-write a ton of stuff.

70
Mon Aug 10 23:03:14 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: c7cf2b9d_be5fbd6c
Bytes: 106
just put a do-while loop checking for r == 0 here (and a comment explaining why) and remove line 64 above.

