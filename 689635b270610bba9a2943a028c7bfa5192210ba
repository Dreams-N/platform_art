Revision: 689635b270610bba9a2943a028c7bfa5192210ba
Patch-set: 1
File: compiler/image_writer.cc

1229
Fri Jul 24 18:22:44 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6d83be1d_be3271f5
Bytes: 105
Why are these all blank definitions? Wouldn't it be easier if the original visitor had blank definitions?

1229
Fri Jul 24 18:34:55 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6d83be1d_be3271f5
UUID: 8dbd52cc_f976cfb0
Bytes: 49
You're right, I think tehse two are not required.

1229
Fri Jul 24 18:37:46 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6d83be1d_be3271f5
UUID: 6d9ade79_c6a5a236
Bytes: 102
I am not sure that I agree. Blank definitions are sometimes bad, as you might forget to override them.

File: runtime/gc/accounting/mod_union_table.cc

115:25-115:40
Fri Jul 24 18:22:44 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ed8dee45_8821eba4
Bytes: 82
Why do these require extra if checks, doesn't the name imply its already not null?

115:25-115:40
Fri Jul 24 18:34:55 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ed8dee45_8821eba4
UUID: 0da7a2c0_f2a0a6ec
Bytes: 126
No, the name implies that there is the check. If the name was VisitRootNonNull then it would be assuming its already not null.

115:25-115:40
Fri Jul 24 18:38:58 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0da7a2c0_f2a0a6ec
UUID: 6d83be1d_7ee9d972
Bytes: 371
What's supposed to be the practical difference between VisitRootIfNonNull and VisitRoot then, if both of them would need checking?

I would've imagined that the visitor class does its own non-null filtering before invoking this method?

Wouldn't it be (less code) anyway to just do that (and rename to VisitRootNonNull as you said),similar to removing all the blank defs?

File: runtime/gc/collector/concurrent_copying.cc

1420:4-1420:25
Fri Jul 24 17:54:59 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 4d9d1a6f_147d1add
Bytes: 12
What's this?

1420:4-1420:25
Fri Jul 24 18:34:55 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 4d9d1a6f_147d1add
UUID: ad977653_32822856
Bytes: 4
Done

