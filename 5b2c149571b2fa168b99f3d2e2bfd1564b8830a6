Revision: 5b2c149571b2fa168b99f3d2e2bfd1564b8830a6
Patch-set: 5
File: runtime/class_linker.cc

6545:43-6545:48
Fri Sep 09 17:22:07 2016 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ab0ebe7a_a60b6884
Bytes: 81
Will the rest arrays be passed by value? Anyway to make them passed by reference?

6545:43-6545:48
Fri Sep 09 17:27:05 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ab0ebe7a_a60b6884
UUID: ab0ebe7a_86f46c4e
Bytes: 42
no but added things to make it more clear.

6545
Fri Sep 09 17:36:07 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ab0ebe7a_6644d09e
Bytes: 452
nit: don't need two functions

  std::reference_wrapper<const ScopedArenaVector<ArtMethod*>> lists[] = {std::cref(list), std::cref(rest)...};

  for (auto&& list_wrapper : lists) { 
      const ScopedArenaVector<ArtMethod*>& list = list_wrapper.get();
  // existing code
  }

  // or just use a pointer instead of reference_wrapper. key is that arrays of references are illegal
  // but by using an array we can avoid recursively calling this function.

6545
Fri Sep 09 17:41:46 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ab0ebe7a_6644d09e
UUID: ab0ebe7a_e66ba0ad
Bytes: 23
I like this way better.

6605
Fri Sep 09 17:36:07 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ab0ebe7a_e6f1e05c
Bytes: 75
nit: separating into 2 CHECKs will make it easier to determine which failed

6605
Fri Sep 09 17:41:46 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ab0ebe7a_e6f1e05c
UUID: ab0ebe7a_2688187c
Bytes: 94
Really the first is just a short circuit. Also the names should be different from prettyMethod

7187:39-7187:45
Fri Sep 09 17:36:07 2016 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ab0ebe7a_a61ec879
Bytes: 69
Can you turn this into a named constant? 0xFFFF seems pretty magical.

7187:39-7187:45
Fri Sep 09 17:41:46 2016 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ab0ebe7a_a61ec879
UUID: ab0ebe7a_a69b68c2
Bytes: 56
It's just getting the lower 16 bits. It's not very magic

