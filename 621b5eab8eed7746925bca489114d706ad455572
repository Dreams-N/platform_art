Revision: 621b5eab8eed7746925bca489114d706ad455572
Patch-set: 2
File: runtime/dex_file_verifier.cc

1960:6-1965:7
Wed May 18 15:08:11 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5724f2f2_c141262e
Bytes: 46
Can't we do this independently of the version?

1960:6-1965:7
Wed May 18 15:16:09 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5724f2f2_c141262e
UUID: 378e9e42_8e0e5b2b
Bytes: 113
I don't think it makes sense to do one check for all versions and the other for >=37. They enforce the same rule.

1960:6-1965:7
Wed May 18 15:22:24 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5724f2f2_c141262e
UUID: 378e9e42_ce086320
Bytes: 469
Good question.  I think it wouldn't affect a lot of apps, at least w.r.t. self-extending classes (probably only the two APKs listed in b/28685551 – and in a good way!).  I'm not sure about self-implementing interfaces (checked in lines 1998–2004) though.

(I like those checks as they provide simple error messages, but we could also just drop them, and adjust the tests in lines 1972 and 2012 to cover them, as suggested by David in an earlier version of this CL.)

1998:8-2004:9
Wed May 18 15:08:11 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5724f2f2_014cde60
Bytes: 6
Ditto.

