Revision: f6010eca09e943616b069e5bb38ee3589134e7bb
Patch-set: 1
File: build/Android.executable.mk

104:0-104:46
Tue Sep 22 04:50:39 2015 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 495193a7_a3a21911
Bytes: 81
not sure we'll have ncurses or tinfo in the environment where we run this. calin?

104:0-104:46
Tue Sep 22 04:52:43 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 495193a7_a3a21911
UUID: 29de1f5b_e000e843
Bytes: 34
These aren't linked in statically?

104:0-104:46
Tue Sep 22 05:00:20 2015 +0000
Author: Stephen Hines <1010056@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 29de1f5b_e000e843
UUID: e91fa7ee_53e2fc09
Bytes: 464
They are being linked in statically. This is exactly the missing puzzle piece from earlier. I kept thinking it was pulling in ncurses (for which the .so will pull in the appropriate tinfo/terminfo/etc. libraries), but the static designation here forces you to be explicit for the complete chain of deps.

It is a bit terrible that we are polluting our build with more non-hermetic components, but I assume that the host librt is also not a checked-in thing either.

File: dex2oat/Android.mk

62:21-62:104
Tue Sep 22 08:21:46 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 091ddbf6_fd5443f1
Bytes: 185
This is crazy. How much MB does that add to binary?

This is extremely sad, knowing that it's because libbacktrace requires a tiny subset of llvm. There are other engineering solutions.

62:21-62:104
Tue Sep 22 17:39:56 2015 +0000
Author: Yabin Cui <1056364@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 091ddbf6_fd5443f1
UUID: c91663dc_b2535057
Bytes: 156
for dex2oats, it changes from 255M to 295M; for dex2oatds, it changes from 263M to 303M. I think they are on host, so the size doesn't matter very much, no?

