Revision: 1646d7a22e43a1fb25452ead47a4073e63d7f391
Patch-set: 3
File: runtime/utf_test.cc

161
Wed Nov 25 11:14:05 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: fb921f65_4e92b33c
Bytes: 190
This doesn't test the { 0x800, 0xdc00 } case that was wrong in PS2. This test should be extended to include prefixes/suffixes that encode as 2 or 3 bytes. I'll add the test in a separate CL.

161
Wed Nov 25 11:15:59 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: fb921f65_4e92b33c
UUID: 5bc96b78_9cb14d0b
Bytes: 46
https://android-review.googlesource.com/183734

319:0-324:7
Tue Nov 24 17:55:40 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5b77ab0e_c9169533
Bytes: 112
But we still want to test them.

And please add also the test for the non-conforming sequence { 0x800, 0xdc00 }.

319:0-324:7
Wed Nov 25 09:19:46 2015 +0000
Author: Bruce Hoult <1085148@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5b77ab0e_c9169533
UUID: 1bb61305_3fbcc3dc
Bytes: 107
Why do you believe those are not already sufficiently tested by CountAndConvertUtf8Bytes_UnpairedSurrogate?

319:0-324:7
Wed Nov 25 11:14:05 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1bb61305_3fbcc3dc
UUID: 7b80ef13_ca5e8352
Bytes: 46
Sorry, I missed the "unpaired surrogate" test.

319:0-324:7
Wed Nov 25 11:22:26 2015 +0000
Author: Ivan Maidanski <1084139@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7b80ef13_ca5e8352
UUID: 9ba203be_83982039
Bytes: 108
To Bruce: as you already have unpublished patchset #4 with 2 more test cases, I think it's worth to push it.

319:0-324:7
Wed Nov 25 11:34:08 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9ba203be_83982039
UUID: 9baf638f_3ec671bf
Bytes: 175
This CL is now submitted, so you cannot upload PS4. If you have any more tests, not covered by https://android-review.googlesource.com/183734 , please upload as a separate CL.

319:0-324:7
Wed Nov 25 11:42:00 2015 +0000
Author: Bruce Hoult <1085148@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9baf638f_3ec671bf
UUID: fb6bff2e_836c7e4f
Bytes: 347
We have a patchset makeing its way through out internal process that adds:

  AssertConversion({ 'h', 'e', 0x800, 0xdc00 }, { 'h', 'e', 0xe0, 0xa0, 0x80, 0xed, 0xb0, 0x80 });
  AssertConversion({ 'h', 0x800, 0xdc00, 'e' }, { 'h', 0xe0, 0xa0, 0x80, 0xed, 0xb0, 0x80, 'e' });

But that looks to be subsumed by your other change, so we'll abandon it.

