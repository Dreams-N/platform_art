Revision: 4786058521c548bd0aead18c175677fa09ed5714
Patch-set: 3
File: compiler/optimizing/nodes_arm64.h

27:41-27:74
Fri Jan 30 10:19:21 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 77bffbde_77303014
Bytes: 267
Some instructions say they don't have "side effects", yet they can enter runtime and therefore run GC. For example SuspendChecks, HLoadClass, ...

Having an address in the middle of an array is probably not a good idea to keep around in between those instructions :-)

27:41-27:74
Fri Jan 30 10:43:14 2015 +0000
Author: Alexandre Rames <1052304@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 77bffbde_77303014
UUID: 97baafec_585b1d3d
Bytes: 291
Ok. I thought any instruction calling runtime would indicate it as a side effect (at least as a 'CanGC').
Otherwise there are possible fixes/changes for this: maybe computing the offset only instead of the address, or teaching GC about pointers in the middle of an array (why not, one day!).

27:41-27:74
Fri Jan 30 10:52:03 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 97baafec_585b1d3d
UUID: 97baafec_78a5c1c8
Bytes: 87
I think the simplest could be to update the side effects with the "can GC" information.

27:41-27:74
Fri Jan 30 11:46:59 2015 +0000
Author: Alexandre Rames <1052304@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 97baafec_78a5c1c8
UUID: 77bffbde_37dbd825
Bytes: 37
Ok. I'll look into it for my testing.

