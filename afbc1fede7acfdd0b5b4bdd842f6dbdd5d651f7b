Revision: afbc1fede7acfdd0b5b4bdd842f6dbdd5d651f7b
Patch-set: 3
File: runtime/debugger.cc

1704:2-1704:69
Fri Jun 12 16:21:24 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 79254042_e68023d1
Bytes: 132
Is there actually a reason to do this? Why not use the primitive type directly? I don't see that it would make a difference below...

1737:4-1739:20
Fri Jun 12 16:02:46 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 59e07c3c_49d832e8
Bytes: 173
I'm averse to switches with default - I like the compiler complaining if you miss an enum case. But you'd have to put it into its own function, as there's code after this...

1737:4-1739:20
Fri Jun 12 16:13:26 2015 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 59e07c3c_49d832e8
UUID: 79f8e0fa_befe557b
Bytes: 223
Here, the default actually covers the VOID case. We read a byte for the type tag from the debugger. It *should* match an enum value. However, in the case we receive garbage (from a bad debugger?), we need to cover our back.

1737:4-1739:20
Fri Jun 12 16:18:18 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 79f8e0fa_befe557b
UUID: 59095cdc_3d7c1b98
Bytes: 412
The idiom is to cover your back by returning out of all cases with a return, so that the "implicit default" is the exit of the switch, where you put the LOG(FATAL). That's why I said you'd have to create its own function.

You'd also put the VOID explicitly and have an expressive failure message.

I understand why all of that is overhead here, so it's your choice, but it is easily doable for the case below...

1844:2-1844:24
Fri Jun 12 16:02:46 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 79254042_463477e5
Bytes: 69
At least here you could easily rewrite this by pulling in the return.

