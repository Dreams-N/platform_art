Revision: c2ad243594fcede80ddecb1a55aab0cceb396805
Patch-set: 19
File: runtime/class_linker.cc

4781
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 16c50ace_e46b1a88
Bytes: 37
DCHECK that the iface is an interface

4781
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 16c50ace_e46b1a88
UUID: b6da7ea7_4c7def48
Bytes: 4
Done

4808
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 16c50ace_6480ca64
Bytes: 543
Not sure if having this return a bool makes sense anymore, it's more of a tri-state.

  a) default method was found, returned in *out-default
  b) the method is actually abstract
  c) default conflict

and should probably look as such, for example:

  enum DefaultMethodSearchResult {
    kDefaultFound,
    kDefaultMaskedByAbstract,
    kDefaultConflict
  }

We can then mention that out_default_method is only set for kDefaultFound.

Currently it's very subtle because we have to switch on both the bool and then again on out_default_method.

4808
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 16c50ace_6480ca64
UUID: b6da7ea7_0f05a954
Bytes: 4
Done

4860:68-4860:77
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d4867d_279ffad2
Bytes: 16
interface method

4860:68-4860:77
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d4867d_279ffad2
UUID: 7689e6a7_ff62bfba
Bytes: 4
Done

5140:43-5140:75
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96d1fa8e_c8354f86
Bytes: 5
const

5141:80-5141:84
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6d7f27c_4a3833aa
Bytes: 150
Is the list of same name and signatures always unique here? If it's not unique, then this finds the *first* samename

-> FindFirstSameNameAndSignature

5141:80-5141:84
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d6d7f27c_4a3833aa
UUID: f6a6b626_4e4213ed
Bytes: 68
> Is the list of same name and signatures always unique here? 

Yes.

5186:19-5186:34
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6a6b626_2e7d07c5
Bytes: 77
rename to imt_conflict_method so we don't confuse this with default conflicts

5186:19-5186:34
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f6a6b626_2e7d07c5
UUID: 369daed4_505bd262
Bytes: 4
Done

5353
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d4867d_070d96bd
Bytes: 125
// Don't look for a default implementation when the supermethod is implemented directly by a class
//
// See if we can use...

5353
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d4867d_070d96bd
UUID: 16ac2a06_0fe64945
Bytes: 4
Done

5380
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6d7f27c_4a42f3ec
Bytes: 26
// Default method conflict

5380
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d6d7f27c_4a42f3ec
UUID: 369daed4_90db7a10
Bytes: 4
Done

5384:22-5384:25
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6d7f27c_0ae63b45
Bytes: 5
reuse

5384:22-5384:25
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d6d7f27c_0ae63b45
UUID: b6da7ea7_2cb4fb3e
Bytes: 4
Done

5402
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 369daed4_0dbbf101
Bytes: 25
// Found a default method

5402
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 369daed4_0dbbf101
UUID: 76d4867d_8a686b9f
Bytes: 4
Done

5419
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7689e6a7_5f872bf4
Bytes: 202
else /*current_method == nullptr*/ { // Abstract method masks all defaults
  if (vtable_impl->IsAbstract() &&
      !vtable_impl->IsDefaultConflicting()) {
    ...
  }
  // else don't need do anything
}

5419
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7689e6a7_5f872bf4
UUID: f6a6b626_2e62278b
Bytes: 4
Done

5598:12-5601:11
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d4867d_0ade3b2c
Bytes: 74
Why do we need this? Why did we even put it into default_conflict_methods?

5598:12-5601:11
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d4867d_0ade3b2c
UUID: b6da7ea7_6f02654e
Bytes: 12
No. Removed.

5602
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6a6b626_ee213f91
Bytes: 94
// Normal default method (changed from an older default or an older abstract interface method)

5602
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f6a6b626_ee213f91
UUID: b6da7ea7_6caef3ee
Bytes: 4
Done

File: runtime/common_throws.cc

248
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 96d1fa8e_cbfb89a1
Bytes: 16
nit: /*referer*/

248
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 96d1fa8e_cbfb89a1
UUID: 16ac2a06_6f0a6da7
Bytes: 4
Done

File: runtime/modifiers.h

54
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6d7f27c_2a6cdf4d
Bytes: 95
Used to figure out at runtime if invoking this method will throw an exception (e.g. NME or AME)

54
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d6d7f27c_2a6cdf4d
UUID: b6da7ea7_cc355f86
Bytes: 4
Done

File: test/968-default-partial-compilation-generated/util-src/generate_java.py

46
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b6da7ea7_4c65efed
Bytes: 33
nit: public method need a comment

46
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b6da7ea7_4c65efed
UUID: d6d7f27c_edf7817c
Bytes: 4
Done

File: test/968-default-partial-compilation-generated/util-src/generate_smali.py

543:39-543:41
Tue Nov 10 00:53:15 2015 +0000
Author: Igor Murashkin <1021471@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 369daed4_50ff5282
Bytes: 15
nit: two spaces

543:39-543:41
Tue Nov 10 01:47:36 2015 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 369daed4_50ff5282
UUID: d6d7f27c_4d096d3f
Bytes: 4
Done

