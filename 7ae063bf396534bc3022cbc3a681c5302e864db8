Revision: 7ae063bf396534bc3022cbc3a681c5302e864db8
Patch-set: 1
File: compiler/driver/compiler_driver.cc

1699:21-1699:26
Tue Nov 25 10:17:40 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 9f448158_be216598
Bytes: 73
Why debug? If it is very problematic, shouldn't we unconditionally abort?

1699:21-1699:26
Tue Nov 25 17:15:49 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9f448158_be216598
UUID: 5fc2091f_0f3cdc03
Bytes: 83
Because we have enough build targets pre-opting. So we pay the price on the host...

1699:21-1699:26
Tue Nov 25 17:19:25 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5fc2091f_0f3cdc03
UUID: df3a79c4_8b5b01f6
Bytes: 37
Sorry, I don't understand your reply.

1699:21-1699:26
Tue Nov 25 17:26:27 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: df3a79c4_8b5b01f6
UUID: 1fcc1153_b435e619
Bytes: 329
The CL is mostly to keep the current state of all boot classpath classes being at least verified. To keep the status quo, it's fine to use the debug version: we have pre-opted targets on the build server that will execute dex2oatd to create the boot image (and as we're [mostly] deterministic, that will be exactly as on device).

1699:21-1699:26
Tue Nov 25 17:27:52 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1fcc1153_b435e619
UUID: df3a79c4_ab45a50f
Bytes: 46
How about when we're running this on a device?

1699:21-1699:26
Tue Nov 25 17:35:05 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: df3a79c4_ab45a50f
UUID: 1fcc1153_1f417366
Bytes: 420
Sure, it's possible. I'm mostly following frameworks/ traditions here, which ignore some errors and hope that the device still boots.

What I really wanted is a *build* breakage, so somebody actively notices and fixes the problem *before* it normally hits a device. I thought it's fine to do this on the host, as we have (somewhat) continuous testing there, and we won't pay the price in -eng, -userdebug or old devices.

1699:21-1699:26
Tue Nov 25 17:36:02 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1fcc1153_1f417366
UUID: df3a79c4_0bd031d5
Bytes: 38
OK, thanks for explaining the context.

