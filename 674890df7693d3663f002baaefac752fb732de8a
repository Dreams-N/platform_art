Revision: 674890df7693d3663f002baaefac752fb732de8a
Patch-set: 8
File: compiler/optimizing/nodes.h

2721:8-2721:40
Thu Apr 16 12:03:02 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 709c722a_2faf51e5
Bytes: 124
Maybe not necessary the best place for this, but it's convenient since we don't have a better way of sharing code right now.

2723:0-2724:55
Thu Apr 16 13:20:54 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 709c722a_6a5d4756
Bytes: 173
How about:
while (next != null && next->asPhi()->GetRegNumber() == reg_number) {
  if (next->GetType() == GetType()) return next;
  next = next->GetNext();
}
return nullptr;

2723:0-2724:55
Thu Apr 16 15:16:11 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 709c722a_6a5d4756
UUID: 90a1e660_b09980c6
Bytes: 4
Done

File: compiler/optimizing/primitive_type_propagation.cc

76:44-76:48
Thu Apr 16 13:20:54 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b0926a12_8cf54f53
Bytes: 16
part -> are part

115:0-115:35
Thu Apr 16 13:20:54 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 709c722a_2a673f24
Bytes: 163
Please do this outside of type propagation. I don't think we should make type propagation responsible for correct typing in the graph. The SsaBuilder should do it.

115:0-115:35
Thu Apr 16 15:16:11 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 709c722a_2a673f24
UUID: b0926a12_acbccb49
Bytes: 129
I moved here caused it seems more sensible to have all the type analysis in the same place. I don't have a strong opinion though.

File: compiler/optimizing/ssa_builder.cc

185:5-193:5
Thu Apr 16 13:20:54 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b0926a12_6cf00362
Bytes: 67
Could this be merged with the old step 7? It feels kind of related.

185:5-193:5
Thu Apr 16 15:16:11 2015 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: b0926a12_6cf00362
UUID: b0926a12_2c0bdbac
Bytes: 93
Could be if we run again the dead phi pass. This is rather unnecessary imo so I kept it here.

