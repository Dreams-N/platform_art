Revision: 0710a934a4e04718bc69e849abd1173a15634325
Patch-set: 4
File: compiler/optimizing/induction_var_analysis.cc

609:39-609:65
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 55712e1a_e5dd364a
Bytes: 70
Ins't the definition of trip count the minimum number a loop executes?

609:39-609:65
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 55712e1a_e5dd364a
UUID: 1548969f_3e9c8563
Bytes: 253
No, just think about something like

for (int i = 0; i < 100; i++)
        if (a[i] == 0)
           return i;

This loops executes at most 100 times (so we can remove the bounds check if we know a has length 100), but it may iterate fewer times as well

609:39-609:65
Wed Sep 30 16:27:10 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1548969f_3e9c8563
UUID: 75763214_2683d693
Bytes: 27
So trip count is "at most"?

609:39-609:65
Wed Sep 30 16:35:52 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 75763214_2683d693
UUID: 354d9aaf_7c88d9ab
Bytes: 66
Yes, runtime-TC <= computed static-TC
(when there are early exits)

627:76-627:84
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ab929e_9e063d5f
Bytes: 7
listed?

627:76-627:84
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 75ab929e_9e063d5f
UUID: f5586271_9de3270a
Bytes: 4
Done

682:6-682:15
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ab929e_7eec91f1
Bytes: 20
FATAL(UNREACHABLE) ?

682:6-682:15
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 75ab929e_7eec91f1
UUID: 1548969f_1ea1c995
Bytes: 32
Ah, a much better idiom. Thanks!

File: compiler/optimizing/induction_var_analysis.h

68:60-68:66
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 957f26e6_67d23240
Bytes: 23
kTripCountInBodyUnsafe.

68:60-68:66
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 957f26e6_67d23240
UUID: f5586271_dddd9f4a
Bytes: 4
Done

69:5-69:7
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 957f26e6_87e6461a
Bytes: 21
nit: TC -> TripCount?

69:5-69:7
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 957f26e6_87e6461a
UUID: 1548969f_7ea60daf
Bytes: 4
Done

167:37-167:43
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 957f26e6_a7e34a09
Bytes: 12
better name?

167:37-167:43
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 957f26e6_a7e34a09
UUID: 9555663b_57b4cc4d
Bytes: 17
lower/upper okay?

167:37-167:43
Wed Sep 30 16:27:10 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9555663b_57b4cc4d
UUID: 156b3632_036faec3
Bytes: 7
yes :-)

168:36-168:43
Wed Sep 30 08:38:38 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 35e91ad0_dc0e6d6c
Bytes: 44
ditto: l and u are not defined in this file.

168:36-168:43
Wed Sep 30 16:23:35 2015 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 35e91ad0_dc0e6d6c
UUID: 1548969f_5eab5173
Bytes: 4
Done

