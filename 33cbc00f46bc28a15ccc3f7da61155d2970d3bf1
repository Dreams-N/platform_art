Revision: 33cbc00f46bc28a15ccc3f7da61155d2970d3bf1
Patch-set: 7
File: compiler/oat_writer.h

311:0-313:32
Mon Sep 05 09:37:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36b797b7_2721da0f
Bytes: 16
Comments please.

311:0-313:32
Mon Sep 05 14:15:59 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36b797b7_2721da0f
UUID: b6ff0722_7be77fa8
Bytes: 4
Done

File: runtime/image.h

302:61-302:67
Mon Sep 05 09:37:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 16fd3327_9e4d9d8d
Bytes: 1
&

302:86-302:92
Mon Sep 05 09:37:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6417f7a_7d0bb734
Bytes: 1
&

302:61-302:67
Mon Sep 05 14:15:59 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 16fd3327_9e4d9d8d
UUID: 91668dcf_daf425bc
Bytes: 4
Done

302:86-302:92
Mon Sep 05 14:15:59 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f6417f7a_7d0bb734
UUID: 16453384_de5ac57c
Bytes: 4
Done

File: runtime/oat_file.h

290:0-290:34
Mon Sep 05 09:37:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36b797b7_c7255e1c
Bytes: 8
Comment.

290:0-290:34
Mon Sep 05 14:15:59 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36b797b7_c7255e1c
UUID: 91668dcf_faf9e9b2
Bytes: 4
Done

File: runtime/oat_file_assistant.cc

580:30-580:34
Mon Sep 05 09:37:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36b797b7_e722e211
Bytes: 33
Could we have constants for this?

580:30-580:34
Mon Sep 05 14:15:59 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36b797b7_e722e211
UUID: 36b797b7_c756be25
Bytes: 381
It's not just these access flags. We do have some wrappers around file operations ("os.h", "fd_file.h") but still use the C versions of other ones (like this `fchmod`, or `fstat` and `lseek` in OatWriter). I'd say that instead of constants for access flags, we should rather build more abstractions over file descriptors. Here it would be 

  if (!vdex_file->MakeWorldReadable()) {

File: runtime/vdex_file.h

34:0-35:27
Mon Sep 05 09:37:49 2016 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36b797b7_a72cea03
Bytes: 41
Comments please. Should those be private?

34:0-35:27
Mon Sep 05 14:15:59 2016 +0000
Author: David Brazdil <1059815@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36b797b7_a72cea03
UUID: 36b797b7_8750c627
Bytes: 4
Done

