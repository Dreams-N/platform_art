Revision: caf65816b59b6b6375d813c4aea088e4538bcd5d
Patch-set: 5
File: runtime/class_linker-inl.h

201:6-201:22
Thu Jun 19 18:16:09 2014 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6471f9c6_62cd67f8
Bytes: 57
Should this be flipped? Do you mean "!kMoveFieldArrays" ?

201
Thu Jun 19 19:29:48 2014 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6471f9c6_62cd67f8
UUID: 6471f9c6_e5e8a1ca
Bytes: 4
Done

File: runtime/gc/collector/mark_compact.cc

83:2-83:7
Thu Jun 19 18:16:09 2014 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6471f9c6_c5231dc6
Bytes: 152
Does this mean that MarkCompact isn't called from the zygote creation and collector transitions at least currently? Then, is the comment above obsolete?

83
Thu Jun 19 19:29:48 2014 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6471f9c6_c5231dc6
UUID: 0443dd81_de1f65ba
Bytes: 60
Yes mark compact is not what we want during zygote creation.

373:24-373:25
Thu Jun 19 18:16:09 2014 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 6471f9c6_82719bf4
Bytes: 200
Should we leave a comment or a log message on the CHECK that says we don't scan large objects as the classes don't move or something like that? Otherwise, it may not be obvious why we have this CHECK.

373
Thu Jun 19 19:29:48 2014 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 6471f9c6_82719bf4
UUID: 0443dd81_017facb9
Bytes: 4
Done

483:55-483:62
Thu Jun 19 18:16:09 2014 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0443dd81_ded765cb
Bytes: 174
I guess this HeapReferenceMarkedCallback does not update ref_ptr, that is, side-effect-free, because we use this before moving objects. Correct? Leave a comment on this note?

483
Thu Jun 19 19:29:48 2014 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0443dd81_ded765cb
UUID: 0443dd81_215f4853
Bytes: 4
Done

