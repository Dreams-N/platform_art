Revision: 99961c7b0a24aa28b3fe3d31e85b68370f3d6a4a
Patch-set: 1
File: compiler/optimizing/code_generator.h

184
Wed Apr 06 10:50:32 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ee4c2816_5b40e332
Bytes: 223
This is quite ugly. I think we should instead strengthen the ownership of all slow paths, changing the SlowPathCode to DeletableArenaObject<> and the CodeGenerator::slow_paths_ to ArenaVector<std::unique_ptr<SlowPathCode>>.

184
Wed Apr 06 11:34:44 2016 +0000
Author: Roland Levillain <1052644@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ee4c2816_5b40e332
UUID: 0e525cad_dc34edda
Bytes: 262
Right.  If so, I guess we should also remove (or amend) the following comment before the definition of art::DeletableArenaObject in runtime/base/arena_object.h:

  // Currently this is used by the quick compiler for debug reference counting arena allocations.

?

184
Wed Apr 06 14:52:47 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 0e525cad_dc34edda
UUID: 0e525cad_3cf391fc
Bytes: 11
Absolutely.

File: compiler/optimizing/code_generator_arm64.cc

947
Wed Apr 06 10:50:32 2016 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 0e525cad_fc07693c
Bytes: 154
Try to change the block_labels_ to ArenaVector<vixl::Label> instead and circumvent the Codegenerator::CommonInitializeLabels<>(), doing a simple resize().

