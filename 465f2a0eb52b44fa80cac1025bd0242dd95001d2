Revision: 465f2a0eb52b44fa80cac1025bd0242dd95001d2
Patch-set: 5
File: compiler/dex/quick/gen_loadstore.cc

297:41-297:42
Tue Jan 21 15:52:20 2014 +0000
Author: Bill Buzbee <1001578@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5244b256_a3c7127f
Bytes: 239
The usage of "update" in the existing code has the sense of finding out where things are and updating the data to reflect the reality - not changing the reality.  Here you are changing the state of dest, so should name this something else.

306:53-306:54
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3229fe85_e2f3ce51
Bytes: 28
full-stop at end of comments

310
Tue Jan 21 15:52:20 2014 +0000
Author: Bill Buzbee <1001578@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 723ff6b5_6afe9b52
Bytes: 316
Clobbering is necessary only in the case that you've re-assigned or modified the registers associated with a src Dalvik value.  In the location == kLocPhysReg case you've done a physical copy, so the src registers are untouched (and therefore don't need to be clobbered).  Move these into the preceeding else clause.

314:0-314:71
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 723ff6b5_0ae6efca
Bytes: 8
and here

File: compiler/dex/quick/mir_to_lir.h

633:63-633:64
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 723ff6b5_eae28bb4
Bytes: 2
ws

636:88-636:89
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3229fe85_c200d261
Bytes: 2
ws

File: compiler/dex/quick/x86/int_x86.cc

573:0-573:33
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5244b256_43d74637
Bytes: 20
full-stop on the end

615:0-615:52
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5244b256_23dc4259
Bytes: 9
full-stop

626:0-626:59
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3229fe85_a2fdc61f
Bytes: 9
full-stop

632:0-632:53
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 723ff6b5_aadc83fe
Bytes: 9
full-stop

648:0-648:56
Tue Jan 21 15:30:38 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5244b256_e3bd1ae9
Bytes: 266
In gen_common.cc Mir2Lir::GenArithOpLong there is a lot of:

      if (cu_->instruction_set != kThumb2) {
        GenAddLong(rl_dest, rl_src1, rl_src2);
        return;
      }

Do you just want to make GenArithOpLong virtual and get rid of all these extra routines?

File: compiler/dex/quick/x86/target_x86.cc

793:44-793:45
Tue Jan 21 15:52:20 2014 +0000
Author: Bill Buzbee <1001578@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3229fe85_42bbc257
Bytes: 87
Not that it matters too much here, but the convention is to pass RegLocations by value.

