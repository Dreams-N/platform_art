Revision: 340608afd1ee6ef1c35c5c0581a077bc48df1e7e
Patch-set: 1
File: runtime/Android.mk

197:0-197:21
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bf505ca5_f7f6903f
Bytes: 63
add 

LIBART_HOST_LDFLAGS :=

to be clear its currently unused?

197:0-197:21
Mon Jun 09 06:52:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bf505ca5_f7f6903f
UUID: bf505ca5_d7259413
Bytes: 6
agreed

File: runtime/base/mutex.cc

332:0-332:55
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bf505ca5_17fc5c1e
Bytes: 32
remove? or explain why disabled?

332:0-332:55
Mon Jun 09 06:52:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: bf505ca5_17fc5c1e
UUID: bf505ca5_b72808ee
Bytes: 136
doh, I'll put it back.. I was trying to discover the other way to unlock a Mutex, the answer being to call Wait on a ConditionVariable..

File: runtime/base/unix_file/fd_file.cc

71:0-96:1
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7f33447f_94228d96
Bytes: 127
its unclear if the delta is needed, but it depends on if bionic is doing the right thing, so I think its better to keep this...

File: runtime/base/unix_file/mapped_file.cc

64:0-68:6
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: bf505ca5_770b608c
Bytes: 5
ditto

File: runtime/base/unix_file/mapped_file.h

35:0-41:6
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff749443_1d0a5f40
Bytes: 83
sigh, more losage. I wonder if enh can confirm if we need this on bionic. probably.

File: runtime/elf_utils.h

20:0-20:68
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff749443_3d071b37
Bytes: 39
micro-API? is that the right term still

File: runtime/gc/allocator/rosalloc.cc

1510:6-1510:8
Mon Jun 09 20:09:18 2014 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dfefd030_3d6c0fd8
Bytes: 94
There are two madvise calls in rosalloc.h. I think we need to add this memset call there, too.

File: runtime/mem_map.h

33:0-33:16
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff749443_9d308f0d
Bytes: 79
the other oddities were linux specific. is this more of an apple vs unix issue?

33:0-33:16
Mon Jun 09 06:52:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ff749443_9d308f0d
UUID: ff749443_9d7acf94
Bytes: 871
From the Linux man pages its not clear that posix_madvise is the same behavior for DONTNEED as regular madvise. I think the Apple implementation does as much as the specification requires.

POSIX_MADV_DONTNEED

              Specifies  that  the application expects that it will not access
              the specified range in the near future.

vs.

MADV_DONTNEED
              Do not expect access in the near future.  (For the  time  being,
              the  application is finished with the given range, so the kernel
              can free resources associated with it.)  Subsequent accesses  of
              pages  in this range will succeed, but will result either in re-
              loading of the memory contents from the underlying  mapped  file
              (see  mmap(2)) or zero-fill-on-demand pages for mappings without
              an underlying file.

File: runtime/utils.cc

1101:1-1101:6
Mon Jun 09 06:26:21 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7f33447f_542c0589
Bytes: 81
should we include something, even if just "(native stack not support on darwin)"?

1101:1-1101:6
Mon Jun 09 06:52:19 2014 +0000
Author: Ian Rogers <1010118@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7f33447f_542c0589
UUID: 7f33447f_343e21aa
Bytes: 6
agreed

