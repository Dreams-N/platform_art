Revision: c033474cfbfe1e963c07fa5c38aed02e35ed6f91
Patch-set: 6
File: compiler/image_writer.cc

581:19-581:54
Thu Nov 05 10:24:11 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6345268_62dad643
Bytes: 199
This is more than just checking a Contains property. And I'm not sure I understand the name, are we talking about a class loaded by the boot class loader? And whether the app image should contain it?

581:19-581:54
Fri Nov 06 00:38:58 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d6345268_62dad643
UUID: 568ea242_6b22f695
Bytes: 82
That is a class from the boot class loader that is not in the existing boot image.

581:19-581:54
Fri Nov 06 09:30:03 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 568ea242_6b22f695
UUID: d61d32f8_5ada1543
Bytes: 40
Why does the app image bother with them?

581:19-581:54
Fri Nov 06 09:35:22 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d61d32f8_5ada1543
UUID: 16e42a25_6fdaad43
Bytes: 62
Nevermind, just saw the other CLs with comments on the method.

600:0-600:43
Thu Nov 05 10:24:11 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36fe8ebd_85fb82a2
Bytes: 76
What static fields? Are the class intialized at dex2oat time? Who does that?

600:0-600:43
Fri Nov 06 00:38:58 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36fe8ebd_85fb82a2
UUID: 36892e3b_273d86a1
Bytes: 61
Not currently, agampe wanted me to add it to be future proof.

611:0-611:82
Thu Nov 05 10:24:11 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d60ff2af_2ad49f10
Bytes: 140
So if you have:

class  A {
  static Class a = A.class;
}

or:

class A {
  static Object a = new A();
}

We won't put A in the image space?

611:0-611:82
Fri Nov 06 00:38:58 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: d60ff2af_2ad49f10
UUID: 568ea242_8b2722a3
Bytes: 93
No those woudl be in the app image since A is an app class and not a boot class loader class.

File: compiler/image_writer.h

397:5-397:39
Thu Nov 05 10:24:11 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36fe8ebd_65e1a6ed
Bytes: 63
-> Cache the boot image space in this class for faster lookups.

397:5-397:39
Fri Nov 06 00:38:58 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36fe8ebd_65e1a6ed
UUID: 36892e3b_874c7a55
Bytes: 4
Done

435:5-435:34
Thu Nov 05 10:24:11 2015 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36fe8ebd_45deaa2d
Bytes: 27
A bit more comments please?

435:5-435:34
Fri Nov 06 00:38:58 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36fe8ebd_45deaa2d
UUID: 76a726c0_f85de057
Bytes: 4
Done

