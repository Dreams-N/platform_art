Revision: 00b66f4fb7550a2ef0d47cb2c0e5dd37c7c776ce
Patch-set: 1
File: compiler/optimizing/builder.h

94:52-94:53
Fri Sep 18 18:21:52 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 099a3b78_fb7a43f8
Bytes: 109
That's the Quick number, isn't it? Do we have a good intuition that the same number is decent for Optimizing?

94:52-94:53
Fri Sep 18 18:27:32 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 099a3b78_fb7a43f8
UUID: e9b7a7e1_a200a477
Bytes: 135
I haven't a clue.  For X86, the jump sequence is 5-6 instructions, dependending on the lower bound.  That would argue for a count of 3.

File: compiler/optimizing/code_generator_arm.cc

4752:4-4752:53
Fri Sep 18 18:10:07 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: e99c0776_6bd11d36
Bytes: 46
This needs it blocks, I think. I'll do that...

4752:4-4752:53
Fri Sep 18 21:56:51 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: e99c0776_6bd11d36
UUID: e9b7a7e1_28d7132f
Bytes: 85
That's of course not true. Branches can have an it around, but don't require it. Doh.

File: compiler/optimizing/nodes.cc

1301:0-1315:5
Fri Sep 18 18:21:52 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 099a3b78_bbab5bbc
Bytes: 180
It feels like there should be a DCHECK here. Removing a target of a PackedSwitch seems simply wrong. If we allowed that (don't see why), we would have to convert to a SparseSwitch.

1301:0-1315:5
Fri Sep 18 18:27:32 2015 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 099a3b78_bbab5bbc
UUID: 69c3b75a_cf406128
Bytes: 249
I am open to suggestions of DCHECKs.  I believe that the only way you can remove a successor of a switch is if the switch is being folded at compile time, which would remove all but 1 of the successors, and therefore a GOTO would replace the switch.

1301:0-1315:5
Fri Sep 18 22:06:44 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 69c3b75a_cf406128
UUID: c9ae6393_e770ec64
Bytes: 103
As that requires simplifier support, I'd rather put the DCHECK here now and fix this once we get there.

