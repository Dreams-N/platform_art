Revision: b9c3bbe2c0b94fde326f37f222cd88f294cfbe6b
Patch-set: 2
File: /COMMIT_MSG

15:26-17:34
Thu Mar 24 23:24:10 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: dca63e27_ba992da8
Bytes: 239
Smali test, something like this:

   new-instance ...

   if-eqz p0, :Label2

 :Label1
   invoke <init>
   goto :end

 :Label2
   invoke <init>
   goto :end

 :end
   return void

Should not be possible from Java-generated code, I think...

15:26-17:34
Fri Mar 25 00:56:24 2016 +0000
Author: Aart Bik <1074526@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: dca63e27_ba992da8
UUID: 3c3e7a9c_8e5edbec
Bytes: 188
That is a good idea. Somehow it must be possible from Java (unless the scanner found an apk with weird bytecode), but using smali is indeed a fast way to get a regression test.

Coming up!

15:26-17:34
Fri Mar 25 01:38:55 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3c3e7a9c_8e5edbec
UUID: 3c3e7a9c_91bc3ee3
Bytes: 303
Lots of apps use bytecode manipulation for stuff like dependency injection frameworks etc. I don't think it's possible from the Java side with a normal compiler. The evaluation rules for a "new" expression are pretty straight-forward, and I'm not aware of any compiler splitting things for any reason...

