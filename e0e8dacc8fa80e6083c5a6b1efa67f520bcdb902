Revision: e0e8dacc8fa80e6083c5a6b1efa67f520bcdb902
Patch-set: 1
File: compiler/optimizing/intrinsics_mips.cc

302:0-322:19
Wed Nov 04 03:46:08 2015 +0000
Author: Alexey Frunze <1057043@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 56c6a231_14487c07
Bytes: 160
I recommend replacing this with a shorter branch-less version:

Clo AT, in_hi
Clo TMP, in_low
Movn TMP, ZERO, in_hi / Seleqz TMP, TMP, in_high
Addu out, AT, TMP

File: compiler/utils/mips/assembler_mips.cc

408:0-422:1
Wed Nov 04 03:46:08 2015 +0000
Author: Alexey Frunze <1057043@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b65c3e65_626f8c05
Bytes: 336
For consistency with the existing code (see multiplication and division instructions, for example) I recommend using the suffixes R2 and R6 respectively.

Also, move these to a more logical place, e.g. between Nor() and Bitswap().

And insert checks, CHECK(!IsR6()); or CHECK(IsR6()); as in other instructions specific to CPU revisions.

File: compiler/utils/mips/assembler_mips.h

165:0-168:39
Wed Nov 04 03:46:08 2015 +0000
Author: Alexey Frunze <1057043@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d6bb729e_10c64c1d
Bytes: 36
Move to between Nor() and Bitswap().

