Revision: 46774767fcf7780d1455e755729198648d08742e
Patch-set: 3
File: compiler/image_writer.h

222:13-222:25
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5359ed2_bc8bae26
Bytes: 46
For consistency, add a comment for this field?

File: patchoat/patchoat.cc

76:5-76:19
Tue Oct 28 03:40:23 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d5bfba8a_9d8ed337
Bytes: 131
These were supposed to match the local var names

location = 
system_filename = 

(and below)

but they clearly already bit rotted.

149:0-151:97
Tue Oct 28 03:40:23 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5594aafe_5ad85481
Bytes: 72
I find it odd to do have all this and run code that seems to do nothing?

149:0-151:97
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5594aafe_5ad85481
UUID: f5359ed2_9c06aa0e
Bytes: 6
Agree.

244:0-248:1
Tue Oct 28 03:40:23 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d5bfba8a_bd8b9726
Bytes: 30
even more confused, why twice?

290:53-290:60
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ae0e67_8998dd4e
Bytes: 102
The symlink is in /data and will point to the one in /system Is that temporary? Should you add a TODO?

365:78-365:81
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 55abca56_a585be65
Bytes: 10
pic -> PIC

377:38-377:43
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ae0e67_6975616f
Bytes: 167
Nit: use const with references, not pointers.

(I know we're not following this in all places, but that's what the style guide suggests for keeping things consistent).

379:36-379:39
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 55abca56_45608a2e
Bytes: 11
fie -> file

398:81-398:84
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ae0e67_097aad5e
Bytes: 10
pic -> PIC

408:85-408:87
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5359ed2_3c2e9e80
Bytes: 137
FD -> file descriptor (here and other places below). I don't think it's obvious FD means file descriptor, at least in the error messages.

908:2-908:7
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 55abca56_256f8e1d
Bytes: 112
Not your code, but you're using both kIsDebugBuild and debug. Looks like this variable is just adding confusion.

1225:19-1225:21
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ae0e67_896d3da2
Bytes: 12
Explain why?

1244:10-1244:14
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5359ed2_fc3ff6a9
Bytes: 59
Should that be LOG(DEBUG) instead? (here and other places).

1264:29-1264:37
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 55abca56_c5531a64
Bytes: 23
promatic -> problematic

File: patchoat/patchoat.h

44:24-44:28
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 55abca56_a55a9e73
Bytes: 50
Add '.' at end of comments. Here and other places.

79:6-79:13
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ae0e67_695ec1e9
Bytes: 21
Too much indentation.

File: runtime/elf_file.h

46:60-46:97
Tue Oct 28 03:40:23 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d5bfba8a_7d0bdf15
Bytes: 97
in general, optional arguments aren't probably worth the confusion when there are so few callers.

File: runtime/image.h

31:18-31:34
Tue Oct 28 03:40:23 2014 +0000
Author: Brian Carlstrom <1003723@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: d5bfba8a_3d156732
Bytes: 88
why this one in this case? This is only used when reinterpretting existing mmap'd pages.

170:15-170:16
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 75ae0e67_e9495129
Bytes: 58
Please add a comment why this field can't be typed 'bool'.

File: runtime/oat.cc

476:35-476:42
Tue Oct 28 10:30:54 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f5359ed2_bc396ec6
Bytes: 62
Wouldn't it be simpler to be 0 or 1? instead of true or false.

