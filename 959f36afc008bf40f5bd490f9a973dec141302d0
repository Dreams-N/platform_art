Revision: 959f36afc008bf40f5bd490f9a973dec141302d0
Patch-set: 1
File: runtime/gc/collector/concurrent_copying-inl.h

73:18-73:45
Fri Oct 30 18:55:00 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5625c29e_3f9b2b99
Bytes: 137
Is it safe to maybe read the read barrier pointer before to avoid the CAS if it is non white? Not sure if this would be a speedup though.

73:18-73:45
Fri Oct 30 22:01:38 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5625c29e_3f9b2b99
UUID: 5625c29e_ea9bafe2
Bytes: 109
AtomicSetReadBarrierPointer() internally first reads it and does CAS only if it's the expected value (white).

78:25-79:9
Fri Oct 30 18:44:28 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 760e462a_ddbafbfb
Bytes: 25
Move this outside the if?

78:25-79:9
Fri Oct 30 22:01:38 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 760e462a_ddbafbfb
UUID: 765c8636_8d37a5b9
Bytes: 4
Done

83:10-83:16
Fri Oct 30 18:44:28 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36204e91_294d3518
Bytes: 10
DCHECK_EQ?

83:10-83:16
Fri Oct 30 22:01:38 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36204e91_294d3518
UUID: 562a227b_22ae76a9
Bytes: 4
Done

101:4-101:9
Fri Oct 30 18:44:28 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 161fca56_c35d8058
Bytes: 34
Maybe OK to change this to DCHECK?

101:4-101:9
Fri Oct 30 22:01:38 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 161fca56_c35d8058
UUID: 96401a44_595f3725
Bytes: 4
Done

File: runtime/gc/collector/concurrent_copying.cc

1984:18-1984:24
Fri Oct 30 18:55:00 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 161fca56_23fd545e
Bytes: 114
For MarkNonMoving, to_ref is always from_ref right? Can't you just return from_ref and remove the to_ref variable.

1984:18-1984:24
Fri Oct 30 22:01:38 2015 +0000
Author: Hiroshi Yamauchi <1022530@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 161fca56_23fd545e
UUID: 562a227b_62cb5e77
Bytes: 12
Right. Done.

File: runtime/mirror/object_array-inl.h

273:0-273:6
Fri Oct 30 18:44:28 2015 +0000
Author: Mathieu Chartier <1015378@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7643a650_9e2c61d5
Bytes: 11
Nice catch.

