Revision: 04764d98aa8833485c6da2afa3d26c4c5e69a062
Patch-set: 4
File: compiler/dex/quick/mips/call_mips.cc

228:21-228:28
Thu Nov 20 11:29:05 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7a3d1b9e_cec62326
Bytes: 262
I suggest adding a local variable:

bool do_unconditional = val_reg.IsInvalid();

And adding a comment that by convention, callers passing an invalid reg means they want the card to be marked unconditionally.

Alternatively, we could add a boolean in the method.

File: compiler/dex/quick/mir_to_lir.h

1149
Thu Nov 20 11:35:11 2014 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7a3d1b9e_4ef2337a
Bytes: 147
Actually I'll refactor this into a platform-dependent UnconditionalMarkGCCard() and implement the branch-over in platform-independent MarkGCCard().

