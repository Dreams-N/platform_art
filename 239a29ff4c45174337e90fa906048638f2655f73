Revision: 239a29ff4c45174337e90fa906048638f2655f73
Patch-set: 1
File: compiler/dex/quick/x86/target_x86.cc

1494:2-1500:3
Wed Jul 30 16:47:48 2014 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36f65b4a_c1d32241
Bytes: 182
If you wanted, you could compute int factor = is_x86_64 ? 2 : 1; 

and then use 0x08 * factor.  This could also be used in other places where you effectively multiply by 2 for 64 bit

1494:2-1500:3
Wed Jul 30 17:28:49 2014 +0000
Author: Tong Shen <1051650@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36f65b4a_c1d32241
UUID: 36f65b4a_e166262d
Bytes: 184
Thanks for the suggestion!

However, I want to keep it this way because it's simple, and thus easy to read. Using a factor and then do a multiply seem unnecessary complication to me...

1549:31-1549:32
Wed Jul 30 16:47:48 2014 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36f65b4a_4106f23d
Bytes: 14
trailing space

1552:31-1552:32
Wed Jul 30 16:47:48 2014 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1624f7a2_1d5754e7
Bytes: 14
here and below

1597:36-1597:67
Wed Jul 30 16:47:48 2014 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 36f65b4a_a1149e61
Bytes: 33
can alternately use cu_->target64

1597:36-1597:67
Wed Jul 30 17:28:49 2014 +0000
Author: Tong Shen <1051650@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36f65b4a_a1149e61
UUID: 36f65b4a_c42fb0a6
Bytes: 30
Yay that's way better!
Thanks.

1610:40-1610:98
Wed Jul 30 17:14:32 2014 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f6204393_fb894766
Bytes: 100
Is -1 an acceptable value to encode here? If not you should check for it and bail if it is received.

File: compiler/elf_writer_quick.cc

108
Wed Jul 30 16:47:48 2014 +0000
Author: Mark P Mendell <1036869@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 1624f7a2_ddfe7c7a
Bytes: 70
Does GDB need .debug_frame, or will it use .eh_frame as a replacement?

108
Wed Jul 30 17:09:30 2014 +0000
Author: Tong Shen <1051650@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 1624f7a2_ddfe7c7a
UUID: 36f65b4a_c1a32253
Bytes: 270
GDB accepts both .debug_frame and .eh_frame.
However:
- .eh_frame is an ABI requirement for x86_64;
- Even in x86, GCC now emits .eh_frame instead of .debug_frame for -g

For these considerations, I replaced .debug_frame with .eh_frame.
Hope it answers your question :-)

108
Wed Jul 30 17:28:49 2014 +0000
Author: Tong Shen <1051650@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 36f65b4a_c1a32253
UUID: 36f65b4a_849e4886
Bytes: 274
GDB accepts both .debug_frame and .eh_frame.

However:
1. .eh_frame is an ABI requirement for x86_64;
2. Even in x86, GCC now emits .eh_frame instead of .debug_frame for -g

For these considerations, I replaced .debug_frame with .eh_frame.

Hope it answers your question :-)

File: runtime/elf_file.cc

1036
Wed Jul 30 17:14:32 2014 +0000
Author: Alex Light <1047769@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: b6016bf5_e410906d
Bytes: 28
Does eh_frame not have CIEs?

