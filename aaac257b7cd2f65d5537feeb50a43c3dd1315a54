Revision: aaac257b7cd2f65d5537feeb50a43c3dd1315a54
Patch-set: 1
File: runtime/debugger.cc

2715
Tue Dec 10 22:39:00 2013 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 43eea235_e1067d36
Bytes: 42
or should this have been IsAssignableFrom?

2715
Wed Dec 11 09:15:55 2013 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 43eea235_e1067d36
UUID: 08f84737_1d03d326
Bytes: 42
InstanceOf calls IsAssignableFrom already.

2715
Wed Dec 11 15:50:12 2013 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 08f84737_1d03d326
UUID: 8337bac2_4c278fe1
Bytes: 64
yeah, but would remove the need for special handing of null, no?

2715
Wed Dec 11 16:19:20 2013 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 8337bac2_4c278fe1
UUID: a8101b3f_da1c45c4
Bytes: 97
Class::IsAssignableFrom takes another Class* as parameter so we would need to check for null too.

2715
Wed Dec 11 18:24:47 2013 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: a8101b3f_da1c45c4
UUID: a332fed0_d0323427
Bytes: 54
i didn't think parameter_type can ever be NULL though?

File: runtime/jdwp/object_registry.cc

122
Tue Dec 10 22:39:00 2013 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 83809a7a_906c424c
Bytes: 72
why is this necessary? none of the other getters have this special case.

122
Wed Dec 11 09:15:55 2013 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 83809a7a_906c424c
UUID: 08f84737_7d2f77aa
Bytes: 252
The "null" object is not registered in the id_to_entry_ map. It is also handled in ObjectRegistry::Get.

I can move this to Dbg::InvokeMethod if you prefer. The other use of GetJObject is the ScopedThreadSuspension constructor for a non-null thread ID.

122
Wed Dec 11 15:50:12 2013 +0000
Author: Elliott Hughes <1003224@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 08f84737_7d2f77aa
UUID: 632c867b_ab6d558e
Bytes: 196
ah, i'd only looked at InternalGet. that's okay then.

i do wonder about DisableCollection and EnableCollection though. presumably you can crash us by sending ObjectId 0 in those JDWP packets too?

122
Wed Dec 11 16:19:20 2013 +0000
Author: Sebastien Hertz <1029223@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 632c867b_ab6d558e
UUID: 08f84737_1d81939c
Bytes: 164
It's funny you're talking about these ones because I'm actually writing new JDWP tests for this special case :) I found this by chance looking at these lines below.

