Revision: 8bc699a6e23d0ab0743508d62a165d4305614373
Patch-set: 4
File: compiler/optimizing/builder.cc

87:26-87:27
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff82dd17_5327aea7
Bytes: 5
const

87:26-87:27
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ff82dd17_5327aea7
UUID: 1fe09112_ae30978d
Bytes: 4
Done

91:34-91:35
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff82dd17_732cb289
Bytes: 5
const

91:34-91:35
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ff82dd17_732cb289
UUID: 5fd68940_10d7cacd
Bytes: 4
Done

96:40-96:41
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f8a0930_366dbef7
Bytes: 5
const

96:40-96:41
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f8a0930_366dbef7
UUID: bf0865ac_c8f3cf31
Bytes: 4
Done

337:5-337:9
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f8a0930_56724ad6
Bytes: 25
Yo can remove the TODO :)

337:5-337:9
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f8a0930_56724ad6
UUID: 1fe09112_ce3be370
Bytes: 89
No, it's not complete, as the sparse switch is gonna go into a follow-up CL. I'll update.

367:6-367:13
Wed Dec 03 11:39:43 2014 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff82dd17_533b2e60
Bytes: 59
do we want to increase the number of branches here as well?

367:6-367:13
Wed Dec 03 11:49:21 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ff82dd17_533b2e60
UUID: 5f8a0930_56316a8f
Bytes: 109
I thought about it, but wasn't sure. Should we increase it by the number of switch cases? What does Quick do?

367:6-367:13
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f8a0930_56316a8f
UUID: 1fe09112_ee369f8a
Bytes: 209
I wasn't sure. If we increase it, should it be increased by 1 or the number of cases?

Quick doesn't count them as branches, but registers that there are switches (just a boolean flag), and favors compilation.

372:36-372:63
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff82dd17_b33d4ab3
Bytes: 86
Say that you're talking about using "size_t" instead. Why don't you just start i at 0?

372:36-372:63
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ff82dd17_b33d4ab3
UUID: 5fd68940_1046aa1a
Bytes: 44
Starting at 1 definitely avoids an addition.

377:31-377:42
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f8a0930_767746c5
Bytes: 26
Add (*number_of_blocks)++;

377:31-377:42
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f8a0930_767746c5
UUID: 5fd68940_f0bb1e99
Bytes: 4
Done

383:31-383:42
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f8a0930_967bd2ad
Bytes: 5
ditto

383:31-383:42
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f8a0930_967bd2ad
UUID: bf0865ac_a8165bb3
Bytes: 4
Done

391:55-391:56
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3f70f517_8d402932
Bytes: 49
Please add a comment on what this check is about.

391:55-391:56
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3f70f517_8d402932
UUID: 1fe09112_8e1cbb0b
Bytes: 4
Done

392:29-392:40
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: ff82dd17_d33abeb7
Bytes: 22
(*number_of_blocks)++;

392:29-392:40
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: ff82dd17_d33abeb7
UUID: bf0865ac_6831835e
Bytes: 4
Done

957:7-957:15
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 5f8a0930_1651a226
Bytes: 10
No size_t?

957:7-957:15
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5f8a0930_1651a226
UUID: 1fe09112_4e281323
Bytes: 4
Done

958:45-958:46
Wed Dec 03 11:39:43 2014 +0000
Author: Calin Juravle <1022077@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3f70f517_2daf3529
Bytes: 25
shouldn't you start at 0?

958:45-958:46
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3f70f517_2daf3529
UUID: 1fe09112_6e2bcf21
Bytes: 144
No. In a packed switch, they table entry 0 is the starting key. This is documented in the branch computation, but I'll add another comment here.

970:0-970:64
Wed Dec 03 09:13:53 2014 +0000
Author: Nicolas Geoffray <1038443@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3f70f517_cd3a21b8
Bytes: 35
Shouldn't that comment be line 988?

970:0-970:64
Wed Dec 03 16:30:19 2014 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3f70f517_cd3a21b8
UUID: bf0865ac_48e0ff53
Bytes: 80
No. Line 988 is the default / fall-through case when all cases have been tested.

