Revision: 5f5509a17b04dcacf964eefc169cdfbb3014278b
Base-for-patch-set: 1
File: compiler/elf_writer_debug.cc

311:6-313:7
Wed Nov 11 22:10:15 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 76d4867d_89919004
Bytes: 59
You didn't want to keep this tag marking that it's deduped?

311:6-313:7
Wed Nov 11 22:24:37 2015 +0000
Author: David Srbecky <1065473@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 76d4867d_89919004
UUID: db11db43_fa6ca94f
Bytes: 380
Well, compiling with debug information will also disable the deduplication, so this does not happen anymore.

More importantly, although I am happy with the tag in .symstr, it is fairly non-conventional in DWARF and I would like to remove it.  The fact that we just pretty print the method signature and write it as DW_AT_name is also a hack.  I intend to fix that in the next CL.

311:6-313:7
Thu Nov 12 11:45:12 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: db11db43_fa6ca94f
UUID: 169a6aee_3f618315
Bytes: 112
If you expect deduplication to be disabled, shouldn't you DXCHECK(!mi.deduped_) in the new WriteDebugSections()?

311:6-313:7
Thu Nov 12 11:50:11 2015 +0000
Author: David Srbecky <1065473@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 169a6aee_3f618315
UUID: 569062ca_016f0c05
Bytes: 186
Well it is not required by the code.  We can still potentially decide to generate DWARF for release builds in the future and this code will still work.  Just the tag will not be present.

311:6-313:7
Fri Nov 13 13:19:47 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 569062ca_016f0c05
UUID: f6bf9630_09e80da1
Bytes: 99
It will just be confusing... I think we should keep the tag as long as we accept deduplicated code.

311:6-313:7
Fri Nov 13 15:10:45 2015 +0000
Author: David Srbecky <1065473@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f6bf9630_09e80da1
UUID: 368beea4_8065d8f0
Bytes: 124
Note that this whole function is rewritten in the next CL anyway - and I really do not have to have the tag in proper DWARF.

311:6-313:7
Fri Nov 13 15:15:34 2015 +0000
Author: Vladimir Marko <1018108@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 368beea4_8065d8f0
UUID: 3b4e7783_05add2aa
Bytes: 49
Well, then, can you add some tag in that next CL?

