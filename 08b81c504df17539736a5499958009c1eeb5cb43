Revision: 08b81c504df17539736a5499958009c1eeb5cb43
Patch-set: 1
File: runtime/thread.cc

522:6-523:22
Fri May 13 22:10:58 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: f247b43c_54470769
Bytes: 81
Since you're touching this, please clean up using AlignDown from base/bit-utils.h

522:6-523:22
Fri May 13 22:16:47 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f247b43c_54470769
UUID: f247b43c_54238799
Bytes: 286
This needs a comment. This is actually not necessarily the right page, e.g., if the frame is crossing a frame boundary. I *think* it should be OK with the madvise below because the stack is large enough and the stack of this function should be small, but at least a comment necessary...

522:6-523:22
Fri May 13 22:19:09 2016 +0000
Author: Evgenii Stepanov <1005967@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f247b43c_54238799
UUID: f247b43c_f4755386
Bytes: 175
Yes, but the current code has the same problem - there is no guarantee that "stack_himem" is anywhere close to the top (bottom) of the current stack frame.
I'll add a comment.

522:6-523:22
Fri May 13 22:21:51 2016 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f247b43c_f4755386
UUID: f247b43c_94aa4fe3
Bytes: 108
Yes. That's why I didn't tell you to rewrite it, just comment it... (We really need a builtin_frame_size...)

522:6-523:22
Fri May 13 22:23:41 2016 +0000
Author: Evgenii Stepanov <1005967@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: f247b43c_94aa4fe3
UUID: f247b43c_f4eab320
Bytes: 68
We could call a ((noinline)) function and ask for its frame address.

