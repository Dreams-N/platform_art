Revision: e8d2bf9294fea587175796d1cf1ab39701084383
Patch-set: 1
File: runtime/oat_file_assistant.cc

668:2-668:42
Wed Oct 14 16:33:04 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 7fa9b65d_7d77525d
Bytes: 133
What's the reason for this? I thought the whole class isn't meant to be used across threads, anyways. What else may mutate the field?

668:2-668:42
Wed Oct 14 19:33:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 7fa9b65d_7d77525d
UUID: 9fae6a64_b00735e8
Bytes: 328
For the error messages, I convert the char* dex_location_ to an std::string. Rather than convert dex_location_ to an std::string for every error message, I factored out the conversion to this line.

Perhaps I should make dex_location_ an std::string instead of a char* to avoid the confusion and potentially repeated conversion?

668:2-668:42
Thu Oct 15 23:30:08 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 9fae6a64_b00735e8
UUID: 1959ba73_43108c65
Bytes: 87
I changed dex_location_ to an std::string in a separate CL that this CL now depends on.

703:4-703:17
Wed Oct 14 16:33:04 2015 +0000
Author: Andreas Gampe <1041833@85c56323-6fa9-3386-8a01-6480fb634889>
UUID: 3fa3be81_050b69f7
Bytes: 54
oat_file->Erase()?

Would be easier to re-order maybe?

703:4-703:17
Wed Oct 14 19:33:02 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 3fa3be81_050b69f7
UUID: 5fa8725b_8ecf7c8e
Bytes: 26
Good catch. I'll fix this.

703:4-703:17
Thu Oct 15 23:30:08 2015 +0000
Author: Richard Uhler <1057373@85c56323-6fa9-3386-8a01-6480fb634889>
Parent: 5fa8725b_8ecf7c8e
UUID: d952c250_014e90ff
Bytes: 43
Done. And I added a regression test for it.

